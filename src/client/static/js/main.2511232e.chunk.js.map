{"version":3,"sources":["lib/graphql/queries/index.ts","lib/graphql/mutations/index.ts","lib/graphql/queries/Listings/index.ts","lib/graphql/mutations/DisconnectStripe/index.ts","lib/graphql/queries/Listing/index.ts","lib/graphql/mutations/HostListing/index.ts","lib/graphql/mutations/CreateBooking/index.ts","lib/graphql/mutations/ConnectStripe/index.ts","lib/graphql/queries/User/index.ts","lib/graphql/queries/AuthUrl/index.ts","lib/graphql/mutations/LogIn/index.ts","lib/graphql/mutations/LogOut/index.ts","lib/graphql/globalTypes.ts","lib/utils/index.ts","sections/Home/assets/dubai.jpg","sections/Home/assets/london.jpg","sections/Home/assets/toronto.jpg","sections/Home/assets/los-angeles.jpg","sections/Home/components/HomeHero/index.tsx","lib/components/ErrorBanner/index.tsx","lib/components/ListingCard/index.tsx","lib/components/PageSkeleton/index.tsx","lib/components/AppHeaderSkeleton/index.tsx","lib/components/AppHeaderSkeleton/assets/tinyhouse-logo.png","sections/Home/components/HomeListings/index.tsx","sections/Home/components/HomeListingsSkeleton/index.tsx","sections/Home/assets/listing-loading-card-cover.jpg","sections/Home/assets/cancun.jpg","sections/Home/assets/map-background.jpg","sections/Home/assets/san-fransisco.jpg","sections/Home/index.tsx","sections/User/components/UserProfile/index.tsx","sections/User/components/UserBookings/index.tsx","sections/User/components/UserListings/index.tsx","sections/User/index.tsx","sections/Host/index.tsx","sections/Login/index.tsx","sections/Login/assets/google_logo.jpg","sections/Stripe/index.tsx","sections/Listing/components/ListingDetails/index.tsx","sections/Listing/components/ListingBookings/index.tsx","sections/Listing/components/ListingCreateBooking/index.tsx","sections/Listing/components/ListingCreateBookingModal/index.tsx","sections/Listing/index.tsx","sections/NotFound/index.tsx","sections/Listings/components/ListingsFilter/index.tsx","sections/Listings/components/ListingsSkeleton/index.tsx","sections/Listings/assets/listing-loading-card-cover.jpg","sections/Listings/components/ListingsPagination/index.tsx","sections/Listings/index.tsx","sections/AppHeader/components/MenuItems/index.tsx","sections/AppHeader/index.tsx","sections/AppHeader/assets/tinyhouse-logo.png","index.tsx"],"names":["LISTINGS","gql","DISCONNECT_STRIPE","LISTING","HOST_LISTING","CREATE_BOOKING","CONNECT_STRIPE","USER","AUTH_URL","LOG_IN","LOG_OUT","ListingFilter","ListingType","iconColor","displaySuccessNotification","message","description","notification","placement","style","marginTop","displayErrorMessage","error","formatListingPrice","price","round","formattedListingPrice","Math","Search","Input","Title","Typography","HomeHero","onSearch","className","enterButton","size","placeholder","gutter","xs","md","to","cover","alt","src","torontoImage","dubaiImage","losAngelesImage","londonImage","ErrorBanner","banner","closable","type","Text","ListingCard","listing","address","image","numOfGuests","title","id","hoverable","backgroundImage","level","strong","ellipsis","UserOutlined","color","PageSkeleton","skeletonParagraph","active","paragraph","rows","Header","Layout","AppHeaderSkeleton","HomeListings","listings","grid","sm","lg","xl","dataSource","renderItem","Item","HomeListingsSkeleton","loading","backgroundColor","Content","Paragraph","Home","push","useHistory","useQuery","variables","limit","page","filter","PRICE_HIGH_TO_LOW","data","mapBackground","value","trim","result","renderListingsSection","sanFranciscoImage","cancunImage","process","authUrl","REACT_APP_S_OAUTH_URL","clientId","REACT_APP_S_CLIENT_ID","stripeAuthUrl","replace","UserProfile","user","viewer","setViewer","viewerIsUser","handleUserRefetch","useMutation","onCompleted","hasWallet","disconnectStripe","onError","additionalDetails","income","disabled","onClick","window","location","href","target","rel","additionalDetailsSection","avatar","name","contact","UserBookings","bookingsPage","userBookings","setBookingsPage","total","userBookingsList","undefined","locale","emptyText","pagination","position","showLessItems","current","defaultPageSize","hideOnSinglePage","onChange","booking","bookingHistory","checkIn","checkOut","UserListings","listingsPage","userListings","setListingsPage","userListingsList","User","useState","useRouteMatch","params","refetch","a","stripeErrorBanner","URL","searchParams","get","bookings","userListingsElement","userBookingsElement","userProfileElement","typeof","justify","Form","APARTMENT","HOUSE","Host","imageLoading","setImageLoading","imageBase64Value","setImageBase64Value","hostListing","layout","onFinish","values","zip","city","state","guests","fullAddress","input","label","rules","required","enum","Group","Button","BankOutlined","HomeOutlined","min","extra","maxLength","TextArea","showUploadList","listType","info","file","status","originFileObj","getBase64Value","beforeUpload","beforeImageUpload","action","LoadingOutlined","PlusOutlined","htmlType","fileIsValidType","fileIsValidSize","img","callback","reader","FileReader","readAsDataURL","onload","Login","client","useApolloClient","logIn","token","sessionStorage","setItem","logInData","logInLoading","logInError","logInRef","useRef","useEffect","code","handleAuthorize","query","tip","logInErrorBannerElement","role","aria-label","Stripe","connectStripe","v","viewerMemo","useMemo","connectStripeRef","ListingDetails","host","console","log","EnvironmentOutlined","expandable","ListingBookings","listingBookings","listingBookingsList","tenant","shape","ListingCreateBooking","checkInDate","checkOutDate","bookingsIndex","setCheckInDate","setModalVisible","setCheckOutDate","bookingsIndexJSON","JSON","parse","disabledDate","currentDate","isBefore","moment","endOf","day","year","month","Boolean","dateIsBooked","viewerIsHost","checkInInputDisabled","checkOutInputDisabled","buttonDisabled","buttonMessage","showToday","format","onOpenChange","selectedCheckOutDate","dateCursor","add","mark","ListingCreateBookingModal","injectStripe","stripe","modalVisible","clearBookingData","handleListingRefetch","createBooking","daysBooked","diff","listingPrice","handleCreateBooking","createToken","stripeToken","source","centered","footer","onCancel","visible","KeyOutlined","padding","hidePostalCode","Listing","listingDetailsElement","listingBookingsElement","listingCrateBookingElement","listingCreateBookingModalElement","NotFound","PRICE_LOW_TO_HIGH","Option","Select","ListingsFilter","setFilter","ListingsSkeleton","emptyData","Array","fill","ListingsPagination","setPage","Listings","locationRef","skip","listingsRegion","region","listingsSectionElement","length","offsetTop","listingsRegionElement","Menu","SubMenu","MenuItems","logOut","removeItem","subMenuLogin","LogoutOutlined","mode","selectable","AppHeader","pathname","useLocation","search","setSearch","pathnameSubStrings","split","pathIncludes","includes","trimmedValue","httpLink","createHttpLink","uri","setCSRFHeader","setContext","_req","prevContext","getItem","headers","ApolloClient","credentials","cache","InMemoryCache","link","concat","initialViewer","didRequest","App","apiKey","exact","path","component","render","document","getElementById"],"mappings":"4HAAA,i0B,iCCAA,q1B,8oBCEO,IAAMA,EAAWC,cAAH,M,sZCAd,IAAMC,EAAoBD,cAAH,M,k7BCAvB,IAAME,EAAUF,cAAH,M,gaCAb,IAAMG,EAAeH,cAAH,M,waCAlB,IAAMI,EAAiBJ,cAAH,M,ybCApB,IAAMK,EAAiBL,cAAH,M,gjCCApB,IAAMM,EAAON,cAAH,M,qWCAV,IAAMO,EAAWP,cAAH,M,kcCAd,IAAMQ,EAASR,cAAH,M,uXCAZ,IAAMS,EAAUT,cAAH,M,8HCORU,EAKAC,E,gKCZCC,EAAY,UAEZC,EAA6B,SACxCC,EACAC,GAEA,OAAOC,IAAY,QAAY,CAC7BF,UACAC,cACAE,UAAW,UACXC,MAAO,CACLC,UAAW,OAKJC,EAAsB,SAACC,GAClC,OAAOP,IAAQO,MAAMA,IAGVC,EAAqB,SAACC,GAAiC,IAAlBC,IAAiB,yDAC3DC,EAAwBD,EAAQE,KAAKF,MAAMD,EAAQ,KAAOA,EAAQ,IACxE,MAAM,IAAN,OAAWE,K,SDfDf,K,sCAAAA,E,uCAAAA,M,cAKAC,K,sBAAAA,E,eAAAA,M,2BEdG,MAA0B,kCCA1B,MAA0B,mCCA1B,MAA0B,oCCA1B,MAA0B,wCCajCgB,EAAWC,IAAXD,OACAE,EAAUC,IAAVD,MAEKE,EAAsB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACpC,OACE,sBAAKC,UAAU,YAAf,UACE,sBAAKA,UAAU,oBAAf,UACE,cAACJ,EAAD,CAAOI,UAAU,mBAAjB,iDAGA,cAACN,EAAD,CACEO,aAAW,EACXC,KAAK,QACLH,SAAUA,EACVC,UAAU,0BACVG,YAAY,8BAGhB,eAAC,IAAD,CAAKC,OAAQ,GAAIJ,UAAU,mBAA3B,UACE,cAAC,IAAD,CAAKK,GAAI,GAAIC,GAAI,EAAjB,SACE,cAAC,IAAD,CAAMC,GAAG,oBAAT,SACE,cAAC,IAAD,CAAMC,MAAO,qBAAKC,IAAI,UAAUC,IAAKC,IAArC,yBAKJ,cAAC,IAAD,CAAKN,GAAI,GAAIC,GAAI,EAAjB,SACE,cAAC,IAAD,CAAMC,GAAG,kBAAT,SACE,cAAC,IAAD,CAAMC,MAAO,qBAAKC,IAAI,QAAQC,IAAKE,IAAnC,uBAGJ,cAAC,IAAD,CAAKP,GAAI,EAAGC,GAAI,EAAhB,SACE,cAAC,IAAD,CAAMC,GAAG,0BAAT,SACE,cAAC,IAAD,CAAMC,MAAO,qBAAKC,IAAI,cAAcC,IAAKG,IAAzC,6BAKJ,cAAC,IAAD,CAAKR,GAAI,EAAGC,GAAI,EAAhB,SACE,cAAC,IAAD,CAAMC,GAAG,mBAAT,SACE,cAAC,IAAD,CAAMC,MAAO,qBAAKC,IAAI,SAASC,IAAKI,IAApC,+B,kBC7CCC,EAAyB,SAAC,GAGhC,IAAD,IAFJlC,eAEI,MAFM,iCAEN,MADJC,mBACI,MADU,uFACV,EACJ,OACE,cAAC,IAAD,CACEkC,QAAM,EACNC,UAAQ,EACRC,KAAK,QACLrC,QAASA,EACTmB,UAAU,eACVlB,YAAaA,K,SCDXqC,EAAgBtB,IAAhBsB,KAAMvB,EAAUC,IAAVD,MAEDwB,EAAyB,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAC/BC,EAAkDD,EAAlDC,QAASC,EAAyCF,EAAzCE,MAAOC,EAAkCH,EAAlCG,YAAalC,EAAqB+B,EAArB/B,MAAOmC,EAAcJ,EAAdI,MAAOC,EAAOL,EAAPK,GAEnD,OACE,cAAC,IAAD,CAAMnB,GAAE,mBAAcmB,GAAtB,SACE,cAAC,IAAD,CACEC,WAAS,EACTnB,MACE,qBACER,UAAU,0BACVf,MAAO,CAAE2C,gBAAgB,OAAD,OAASL,EAAT,QAL9B,SASE,sBAAKvB,UAAU,wBAAf,UACE,sBAAKA,UAAU,4BAAf,UACE,eAAC,EAAD,CAAO6B,MAAO,EAAG7B,UAAU,sBAA3B,UACGX,EAAmBC,GACpB,2CAEF,cAAC6B,EAAD,CAAMW,QAAM,EAACC,UAAQ,EAAC/B,UAAU,sBAAhC,SACGyB,IAEH,cAACN,EAAD,CAAMY,UAAQ,EAAC/B,UAAU,wBAAzB,SACGsB,OAGL,sBAAKtB,UAAU,4DAAf,UACE,cAACgC,EAAA,EAAD,CAAc/C,MAAO,CAAEgD,MAAOtD,KAC9B,eAACwC,EAAD,WAAOK,EAAP,wB,SC9CCU,EAAmB,WAC9B,IAAMC,EACJ,cAAC,IAAD,CACEC,QAAM,EACNC,UAAW,CAAEC,KAAM,GACnBtC,UAAU,6BAId,OACE,qCACGmC,EACAA,EACAA,MCXCI,EAAWC,IAAXD,OAEKE,EAAwB,WACnC,OACE,cAACF,EAAD,CAAQvC,UAAU,aAAlB,SACE,qBAAKA,UAAU,kCAAf,SACE,qBAAKA,UAAU,mBAAf,SACE,qBAAKU,ICZA,yjCDYWD,IAAI,oBEDtBb,EAAUC,IAAVD,MAEK8C,EAA0B,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,SAAUlB,EAAY,EAAZA,MAClD,OACE,sBAAKzB,UAAU,gBAAf,UACE,cAAC,EAAD,CAAO6B,MAAO,EAAG7B,UAAU,uBAA3B,SACGyB,IAEH,cAAC,IAAD,CACEmB,KAAM,CAAExC,OAAQ,EAAGC,GAAI,EAAGwC,GAAI,EAAGvC,GAAI,EAAGwC,GAAI,EAAGC,GAAI,GACnDC,WAAYL,EACZM,WAAY,SAAC5B,GAAD,OACV,cAAC,IAAK6B,KAAN,UACE,cAAC,EAAD,CAAa7B,QAASA,aCnBrB8B,EAA2B,WAEtC,OACE,sBAAKnD,UAAU,yBAAf,UACE,cAAC,IAAD,CAAUqC,UAAW,CAAEC,KAAM,KAC7B,cAAC,IAAD,CACEM,KAAM,CAAExC,OAAQ,EAAGC,GAAI,EAAGwC,GAAI,EAAGvC,GAAI,EAAGwC,GAAI,EAAGC,GAAI,GACnDC,WANY,CAAC,GAAI,GAAI,GAAI,IAOzBC,WAAY,kBACV,cAAC,IAAKC,KAAN,UACE,cAAC,IAAD,CACEE,SAAO,EACP5C,MACE,qBACER,UAAU,yCACVf,MAAO,CAAEoE,gBAAgB,OAAD,OCpB3B,8vRDoB2B,mBEpB3B,MAA0B,mCCA1B,MAA0B,2CCA1B,MAA0B,0CCkBjCC,GAAYd,IAAZc,QACA1D,GAAqBC,IAArBD,MAAO2D,GAAc1D,IAAd0D,UAKFC,GAAW,WAAO,IACrBC,EAASC,cAATD,KADoB,EAGFE,mBACxB7F,WACA,CACE8F,UAAW,CACTC,MAVW,EAWXC,KAVY,EAWZC,OAAQtF,EAAcuF,qBANpBC,EAHoB,EAGpBA,KAAMb,EAHc,EAGdA,QA4Bd,OACE,eAACE,GAAD,CACEtD,UAAU,OACVf,MAAO,CAAE2C,gBAAgB,OAAD,OAASsC,EAAT,MAF1B,UAIE,cAAC,EAAD,CAAUnE,SAtBG,SAACoE,GAAD,OACfA,EAAMC,OACFX,EAAK,aAAD,OAAcU,EAAMC,SACxBjF,EAAoB,yCAoBtB,sBAAKa,UAAU,oBAAf,UACE,cAAC,GAAD,CAAO6B,MAAO,EAAG7B,UAAU,0BAA3B,8CAGA,cAACuD,GAAD,yFAIA,cAAC,IAAD,CACEhD,GAAG,4BACHP,UAAU,8DAFZ,kDA1BwB,WAC5B,GAAIoD,EACF,OAAO,cAAC,EAAD,IAGT,GAAIa,EAAM,CACR,IAAMtB,EAAWsB,EAAKtB,SAAS0B,OAC/B,OAAO,cAAC,EAAD,CAAc5C,MAAM,mBAAmBkB,SAAUA,IAG1D,OAAO,KAuBJ2B,GACD,sBAAKtE,UAAU,iBAAf,UACE,cAAC,GAAD,CAAO6B,MAAO,EAAG7B,UAAU,uBAA3B,kCAGA,eAAC,IAAD,CAAKI,OAAQ,GAAb,UACE,cAAC,IAAD,CAAKC,GAAI,GAAIwC,GAAI,GAAjB,SACE,cAAC,IAAD,CAAMtC,GAAG,2BAAT,SACE,qBAAKP,UAAU,0BAAf,SACE,qBACES,IAAI,gBACJC,IAAK6D,EACLvE,UAAU,6BAKlB,cAAC,IAAD,CAAKK,GAAI,GAAIwC,GAAI,GAAjB,SACE,cAAC,IAAD,CAAMtC,GAAG,mBAAT,SACE,qBAAKP,UAAU,0BAAf,SACE,qBACES,IAAI,SACJC,IAAK8D,EACLxE,UAAU,uC,kFCxExByE,6bAFqBC,G,GAAvBC,sBACuBC,G,GAAvBC,sBAEIC,GAAgBJ,GAAQK,QAAQ,OAAQH,IAEtCrB,GAA2B1D,IAA3B0D,UAAWpC,GAAgBtB,IAAhBsB,KAAMvB,GAAUC,IAAVD,MACZoF,GAAyB,SAAC,GAMhC,IALLC,EAKI,EALJA,KACAC,EAII,EAJJA,OACAC,EAGI,EAHJA,UACAC,EAEI,EAFJA,aACAC,EACI,EADJA,kBACI,EACoCC,sBACtCtH,qBACA,CACEuH,YAAa,SAACtB,GACZkB,EAAU,2BAAKD,GAAN,IAAcM,UAAWvB,EAAKwB,iBAAiBD,aACxD5G,EACE,gDACA,wEAEFyG,KAEFK,QAAS,WACPvG,EACE,oFAdJ,mBACGsG,EADH,KACuBrC,EADvB,KACuBA,QAuBrBuC,EAAoBV,EAAKO,UAC7B,eAAC,WAAD,WACE,cAAC,GAAD,UACE,cAAC,KAAD,CAAKvD,MAAM,QAAX,iCAEF,eAAC,GAAD,4BACiB,IACf,cAAC,GAAD,CAAMH,QAAM,EAAZ,SACGmD,EAAKW,OAASvG,EAAmB4F,EAAKW,QAAU,UAGrD,cAAC,KAAD,CACE1E,KAAK,UACLkC,QAASA,EACTyC,SAAUzC,EACV0C,QAnBa,kBAAML,KAoBnBzF,UAAU,4BALZ,+BASA,eAAC,GAAD,CAAWkB,KAAK,YAAhB,2DACiD,IAC/C,cAAC,GAAD,CAAMY,QAAM,EAAZ,kCAFF,6FAOF,eAAC,WAAD,WACE,cAAC,GAAD,0FAIA,cAAC,KAAD,CACEZ,KAAK,UACLlB,UAAU,4BACV8F,QArCmB,kBAAOC,OAAOC,SAASC,KAAOnB,IAkCnD,iCAOA,eAAC,GAAD,CAAW5D,KAAK,YAAhB,2BACiB,IACf,mBACEgF,OAAO,SACPC,IAAI,sBACJF,KAAK,mCAHP,oBAMK,IARP,uEAcEG,EAA2BhB,EAC/B,qCACE,cAAC,KAAD,IACA,sBAAKpF,UAAU,wBAAf,UACE,cAAC,GAAD,CAAO6B,MAAO,EAAd,gCACC8D,QAGH,KACJ,OACE,qBAAK3F,UAAU,eAAf,SACE,eAAC,IAAD,CAAMA,UAAU,qBAAhB,UACE,qBAAKA,UAAU,uBAAf,SACE,cAAC,KAAD,CAAQE,KAAM,IAAKQ,IAAKuE,EAAKoB,WAE/B,cAAC,KAAD,IACA,sBAAKrG,UAAU,wBAAf,UACE,cAAC,GAAD,CAAO6B,MAAO,EAAd,qBACA,eAAC,GAAD,oBACQ,cAAC,GAAD,CAAMC,QAAM,EAAZ,SAAcmD,EAAKqB,UAE3B,eAAC,GAAD,uBACW,cAAC,GAAD,CAAMxE,QAAM,EAAZ,SAAcmD,EAAKsB,gBAG/BH,QC9HD7C,GAA2B1D,IAA3B0D,UAAW3D,GAAgBC,IAAhBD,MAAOuB,GAAStB,IAATsB,KAEbqF,GAA0B,SAAC,GAKjC,IAJL3C,EAII,EAJJA,MACA4C,EAGI,EAHJA,aACAC,EAEI,EAFJA,aACAC,EACI,EADJA,gBAEMC,GAAoB,OAAZF,QAAY,IAAZA,OAAA,EAAAA,EAAcE,QAAS,KAC/BvC,GAAqB,OAAZqC,QAAY,IAAZA,OAAA,EAAAA,EAAcrC,SAAU,KAEjCwC,EAAmBH,EACvB,cAAC,IAAD,CACE1D,WAAYqB,QAAUyC,EACtBlE,KAAM,CAAExC,OAAQ,EAAGC,GAAI,EAAGwC,GAAI,EAAGC,GAAI,GACrCiE,OAAQ,CAAEC,UAAW,uCACrBC,WAAY,CACVC,SAAU,MACVC,eAAe,EACfC,QAASX,EACTY,gBAAiBxD,EACjByD,kBAAkB,EAClBV,MAAOA,QAASE,EAChBS,SAAU,SAACzD,GAAD,OAAkB6C,EAAgB7C,KAE9Cb,WAAY,SAACuE,GACX,IAAMC,EACJ,sBAAKzH,UAAU,iCAAf,UACE,6CACY,cAAC,GAAD,CAAM8B,QAAM,EAAZ,SAAc0F,EAAQE,aAElC,8CACa,cAAC,GAAD,CAAM5F,QAAM,EAAZ,SAAc0F,EAAQG,iBAKvC,OACE,eAAC,IAAKzE,KAAN,WACGuE,EACD,cAAC,EAAD,CAAapG,QAASmG,EAAQnG,gBAKpC,KAEJ,OAAOwF,EACL,sBAAK7G,UAAU,gBAAf,UACE,cAAC,GAAD,CAAO6B,MAAO,EAAG7B,UAAU,uBAA3B,sBAGA,cAAC,GAAD,CAAWA,UAAU,6BAArB,+HAIC6G,KAED,MC1DEtD,GAAqB1D,IAArB0D,UAAW3D,GAAUC,IAAVD,MAENgI,GAA0B,SAAC,GAKjC,IAJL/D,EAII,EAJJA,MACAgE,EAGI,EAHJA,aACAC,EAEI,EAFJA,aACAC,EACI,EADJA,gBAEQnB,EAAkBkB,EAAlBlB,MAAOvC,EAAWyD,EAAXzD,OAET2D,EACJ,cAAC,IAAD,CACEhF,WAAYqB,EACZ4C,WAAY,CACVL,QACAM,SAAU,MACVC,eAAe,EACfC,QAASS,EACTR,gBAAiBxD,EACjByD,kBAAkB,EAClBC,SAAU,SAACzD,GAAD,OAAkBiE,EAAgBjE,KAE9ClB,KAAM,CAAExC,OAAQ,EAAGC,GAAI,EAAGwC,GAAI,EAAGvC,GAAI,EAAGwC,GAAI,EAAGC,GAAI,GACnDgE,OAAQ,CAAEC,UAAW,uCACrB/D,WAAY,SAAC5B,GAAD,OACV,cAAC,IAAK6B,KAAN,UACE,cAAC,EAAD,CAAa7B,QAASA,SAK9B,OACE,sBAAKrB,UAAU,gBAAf,UACE,cAAC,GAAD,CAAO6B,MAAO,EAAG7B,UAAU,uBAA3B,sBAGA,cAAC,GAAD,CAAWA,UAAU,6BAArB,iHAICgI,M,UCjCC1E,GAAYd,IAAZc,QAEK2E,GAAkB,SAAC,GAA2B,IAAzB/C,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UAAgB,EAChB+C,mBAAS,GADO,mBACjDzB,EADiD,KACnCE,EADmC,OAEhBuB,mBAAS,GAFO,mBAEjDL,EAFiD,KAEnCE,EAFmC,KAGhDrG,EAAOyG,cAA6BC,OAApC1G,GAHgD,EAKdiC,mBACxCtF,QACA,CACEuF,UAAW,CAAElC,KAAImC,MAXJ,EAWuB4C,eAAcoB,kBAH9C5D,EALgD,EAKhDA,KAAMb,EAL0C,EAK1CA,QAAShE,EALiC,EAKjCA,MAAOiJ,EAL0B,EAK1BA,QAOxBhD,EAAiB,yCAAG,uBAAAiD,EAAA,sEAClBD,IADkB,2CAAH,qDAOjBE,EAHc,IAAIC,IAAIzC,OAAOC,SAASC,MAAMwC,aAAaC,IAC7D,gBAGA,cAAC,EAAD,CAAa5J,YAAY,mEACvB,KAEJ,GAAIsE,EACF,OACE,cAAC,GAAD,CAASpD,UAAU,OAAnB,SACE,cAAC,EAAD,MAKN,GAAIZ,EACF,OACE,eAAC,GAAD,CAASY,UAAU,OAAnB,UACE,cAAC,EAAD,CAAalB,YAAY,kFACzB,cAAC,EAAD,OAKN,IAAMmG,GAAW,OAAJhB,QAAI,IAAJA,OAAA,EAAAA,EAAMgB,OAAQ,KACrBG,EAAeF,EAAOxD,KAAOA,EAE7BoG,GAAmB,OAAJ7C,QAAI,IAAJA,OAAA,EAAAA,EAAMtC,WAAY,KACjC+D,GAAmB,OAAJzB,QAAI,IAAJA,OAAA,EAAAA,EAAM0D,WAAY,KAEjCC,EAAsBd,EAC1B,cAAC,GAAD,CACEjE,MAnDa,EAoDbiE,aAAcA,EACdD,aAAcA,EACdE,gBAAiBA,IAEjB,KAEEc,EAAsBf,EAC1B,cAAC,GAAD,CACEjE,MA5Da,EA6Db6C,aAAcA,EACdD,aAAcA,EACdE,gBAAiBA,IAEjB,KAEEmC,EAAqB7D,EACzB,cAAC,GAAD,CACEA,KAAMA,EACNC,OAAQA,EACRC,UAAWA,EACXC,aAAcA,EACdC,kBAAmBA,IAEnB,KAEJ,OACE,eAAC,GAAD,CAASrF,UAAU,OAAnB,UACGuI,EACD,eAAC,IAAD,CAAKnI,OAAQ,GAAI2I,OAAO,OAAOC,QAAQ,gBAAvC,UACE,cAAC,IAAD,CAAK3I,GAAI,GAAT,SAAcyI,IACd,eAAC,IAAD,CAAKzI,GAAI,GAAT,UACGuI,EACAC,Y,0FClDH3F,GAAS+F,KAAT/F,KACAI,GAAYd,IAAZc,QACA1D,GAAgBC,IAAhBD,MAAOuB,GAAStB,IAATsB,KACP+H,GAAqBxK,EAArBwK,UAAWC,GAAUzK,EAAVyK,MAENC,GAAkB,SAAC,GAAgB,IAAdlE,EAAa,EAAbA,OAAa,EACLgD,oBAAS,GADJ,mBACtCmB,EADsC,KACxBC,EADwB,OAEGpB,mBAAwB,MAF3B,mBAEtCqB,EAFsC,KAEpBC,EAFoB,OAGJlE,sBAGvCpH,gBAAc,CACdqH,YAAa,WACX3G,EAA2B,8CAE7B8G,QAAS,WACPvG,EACE,6EAZuC,mBAGtCsK,EAHsC,YAGvBrG,EAHuB,EAGvBA,QAASa,EAHc,EAGdA,KAyD/B,OAAKiB,EAAOxD,IAAOwD,EAAOM,UAmBtBpC,EAEA,cAAC,GAAD,CAASpD,UAAU,eAAnB,SACE,sBAAKA,UAAU,oBAAf,UACE,cAAC,GAAD,CAAO6B,MAAO,EAAG7B,UAAU,mBAA3B,0BAGA,cAAC,GAAD,CAAMkB,KAAK,YAAX,mDAMJ+C,GAAQA,EAAKwF,YAAY/H,GACpB,cAAC,IAAD,CAAUnB,GAAE,mBAAc0D,EAAKwF,YAAY/H,MAIlD,cAAC,GAAD,CAAS1B,UAAU,eAAnB,SACE,eAAC,KAAD,CAAM0J,OAAO,WAAWC,SAjEF,SAACC,GAAwB,IAE/CC,EASED,EATFC,IACAC,EAQEF,EARFE,KACA5I,EAOE0I,EAPF1I,KACA5B,EAMEsK,EANFtK,MACAyK,EAKEH,EALFG,MACAtI,EAIEmI,EAJFnI,MACAuI,EAGEJ,EAHFI,OACA1I,EAEEsI,EAFFtI,QACAxC,EACE8K,EADF9K,YAEImL,EAAW,UAAM3I,EAAN,aAAkBwI,EAAlB,aAA2BC,EAA3B,aAAqCF,GAYtDJ,EAAY,CAAE7F,UAAW,CAAEsG,MAVE,CAC3BhJ,OACAO,QACA3C,cACAQ,MAAe,IAARA,EACPkC,YAAawI,EACb1I,QAAS2I,EACT1I,MAAOgI,GAAoB,QA4C3B,UACE,sBAAKvJ,UAAU,oBAAf,UACE,cAAC,GAAD,CAAO6B,MAAO,EAAG7B,UAAU,kBAA3B,uDAGA,cAAC,GAAD,CAAMkB,KAAK,YAAX,sGAMF,cAACgC,GAAD,CACEoD,KAAK,OACL6D,MAAM,YACNC,MAAO,CACL,CAAEC,UAAU,EAAMxL,QAAS,6BAC3B,CACEyL,KAAM,CAACpB,GAAWC,IAClBtK,QAAS,+CAPf,SAWE,eAAC,KAAM0L,MAAP,WACE,eAAC,KAAMC,OAAP,CAAcrG,MAAO+E,GAArB,UACE,cAACuB,GAAA,EAAD,CAAcxI,MAAOtD,IACrB,gDAEF,eAAC,KAAM6L,OAAP,CAAcrG,MAAOgF,GAArB,UACE,cAACuB,GAAA,EAAD,CAAczI,MAAOtD,IACrB,iDAKN,cAACuE,GAAD,CACEoD,KAAK,SACL6D,MAAM,kBACNC,MAAO,CACL,CACEC,UAAU,EACVxL,QAAS,0CANf,SAUE,cAAC,KAAD,CAAa8L,IAAK,EAAGxK,YAAY,QAGnC,cAAC+C,GAAD,CACEoD,KAAK,QACL6D,MAAM,QACNS,MAAM,4BACNR,MAAO,CACL,CACEC,UAAU,EACVxL,QAAS,2CAPf,SAWE,cAAC,IAAD,CACEgM,UAAW,GACX1K,YAAY,+CAIhB,cAAC+C,GAAD,CACEoD,KAAK,cACL6D,MAAM,yBACNS,MAAM,6BACNR,MAAO,CACL,CACEC,UAAU,EACVxL,QAAS,gDAPf,SAWE,cAAC,IAAMiM,SAAP,CACExI,KAAM,EACNuI,UAAW,IACX1K,YAAY,wGAIhB,cAAC+C,GAAD,CACEoD,KAAK,UACL6D,MAAM,UACNC,MAAO,CACL,CACEC,UAAU,EACVxL,QAAS,4CANf,SAUE,cAAC,IAAD,CAAOsB,YAAY,+BAGrB,cAAC+C,GAAD,CACEoD,KAAK,OACL6D,MAAM,YACNC,MAAO,CACL,CACEC,UAAU,EACVxL,QAAS,8CANf,SAUE,cAAC,IAAD,CAAOsB,YAAY,kBAGrB,cAAC+C,GAAD,CACEoD,KAAK,QACL6D,MAAM,iBACNC,MAAO,CACL,CACEC,UAAU,EACVxL,QAAS,+CANf,SAUE,cAAC,IAAD,CAAOsB,YAAY,iBAGrB,cAAC+C,GAAD,CACEoD,KAAK,MACL6D,MAAM,kBACNC,MAAO,CACL,CACEC,UAAU,EACVxL,QAAS,gDANf,SAUE,cAAC,IAAD,CAAOsB,YAAY,gDAGrB,cAAC+C,GAAD,CACEoD,KAAK,QACL6D,MAAM,QACNS,MAAM,0DACNR,MAAO,CACL,CACEC,UAAU,EACVxL,QAAS,4CAPf,SAWE,qBAAKmB,UAAU,0BAAf,SACE,cAAC,KAAD,CACEsG,KAAK,QACLyE,gBAAgB,EAChBC,SAAS,eACTzD,SAvOc,SAAC0D,GAA6B,IAC9CC,EAASD,EAATC,KAEY,cAAhBA,EAAKC,OAKW,SAAhBD,EAAKC,QAAqBD,EAAKE,eACjCC,GAAeH,EAAKE,eAAe,SAAC7B,GAClCC,EAAoBD,GACpBD,GAAgB,MAPlBA,GAAgB,IAoORgC,aAAcC,GACdC,OAAO,mDANT,SAQGjC,EACC,qBAAK9I,IAAI,UAAUC,IAAK6I,IAExB,gCACGF,EAAe,cAACoC,GAAA,EAAD,IAAsB,cAACC,GAAA,EAAD,IACtC,qBAAK1L,UAAU,kBAAf,6BAOV,cAACkD,GAAD,CACEoD,KAAK,QACL6D,MAAM,QACNS,MAAM,yBACNR,MAAO,CACL,CACEC,UAAU,EACVxL,QAAS,0CAPf,SAWE,cAAC,KAAD,CAAasB,YAAY,MAAMwK,IAAK,MAGtC,cAACzH,GAAD,UACE,cAAC,KAAD,CAAQhC,KAAK,UAAUyK,SAAS,SAAhC,2BAzNJ,cAAC,GAAD,CAAS3L,UAAU,eAAnB,SACE,sBAAKA,UAAU,oBAAf,UACE,cAAC,GAAD,CAAO6B,MAAO,EAAG7B,UAAU,mBAA3B,sFAIA,eAAC,GAAD,CAAMkB,KAAK,YAAX,gJAEqE,IACnE,cAAC,IAAD,CAAMX,GAAG,SAAT,oBAHF,wDA4NJgL,GAAoB,SAACL,GACzB,IAAMU,EACU,eAAdV,EAAKhK,MAAuC,cAAdgK,EAAKhK,KAC/B2K,EAAkBX,EAAKhL,KAAO,KAAO,KAAO,EAElD,OAAK2L,EAOAD,EAKEC,GAAmBD,GAJxBzM,EAAoB,wDACb,IARPA,EACE,wEAEK,IAWLkM,GAAiB,SACrBS,EACAC,GAEA,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,cAAcJ,GACrBE,EAAOG,OAAS,WACdJ,EAASC,EAAO3H,U,UCpWZf,GAAYd,IAAZc,QACAnC,GAAgBtB,IAAhBsB,KAAMvB,GAAUC,IAAVD,MAMDwM,GAAmB,SAAC,GAAmB,IAAjBjH,EAAgB,EAAhBA,UAC3BkH,EAASC,4BADkC,EAK7ChH,sBAAuC/G,UAAQ,CACjDgH,YAAa,YAAgB,IAAbgH,EAAY,EAAZA,MACdpH,EAAUoH,GACNA,EAAMC,OACRC,eAAeC,QAAQ,QAASH,EAAMC,OAExC5N,EAA2B,qCAXkB,mBAG/C2N,EAH+C,YAIvCI,EAJuC,EAI7C1I,KAA0B2I,EAJmB,EAI5BxJ,QAA8ByJ,EAJF,EAILzN,MAWtC0N,EAAWC,iBAAOR,GAExBS,qBAAU,WACR,IAAMC,EAAO,IAAIzE,IAAIzC,OAAOC,SAASC,MAAMwC,aAAaC,IAAI,QACxDuE,GACFH,EAAS1F,QAAQ,CAAExD,UAAW,CAAEsG,MAAO,CAAE+C,aAE1C,IAEH,IAAMC,EAAe,yCAAG,+BAAA5E,EAAA,+EAEG+D,EAAOc,MAAmB,CAAEA,MAAO7O,cAFtC,gBAEZ2F,EAFY,EAEZA,KACR8B,OAAOC,SAASC,KAAOhC,EAAKS,QAHR,gDAKpBvF,EACE,iEANkB,yDAAH,qDAWrB,GAAIyN,EACF,OACE,cAAC,GAAD,CAAS5M,UAAU,SAAnB,SACE,cAAC,IAAD,CAAME,KAAK,QAAQkN,IAAI,wBAK7B,UAAIT,QAAJ,IAAIA,OAAJ,EAAIA,EAAWJ,MAAO,CAAC,IACb7K,EAAOiL,EAAUJ,MAAjB7K,GACR,OAAO,cAAC,IAAD,CAAUnB,GAAE,gBAAWmB,KAGhC,IAAM2L,EAA0BR,EAC9B,cAAC,EAAD,CAAa/N,YAAY,kEACvB,KAEJ,OACE,eAAC,GAAD,CAASkB,UAAU,SAAnB,UACGqN,EACD,eAAC,IAAD,CAAMrN,UAAU,cAAhB,UACE,sBAAKA,UAAU,qBAAf,UACE,cAAC,GAAD,CAAO6B,MAAO,EAAG7B,UAAU,2BAA3B,SACE,sBAAMsN,KAAK,MAAMC,aAAW,OAA5B,4BAIF,cAAC,GAAD,CAAO1L,MAAO,EAAG7B,UAAU,2BAA3B,kCAGA,cAAC,GAAD,yEAEF,yBACE8F,QAASoH,EACTlN,UAAU,6BAFZ,UAIE,qBACEU,IChGG,s6KDiGHD,IAAI,cACJT,UAAU,oCAEZ,sBAAMA,UAAU,kCAAhB,oCAIF,cAAC,GAAD,CAAMkB,KAAK,YAAX,8H,UEtFAoC,GAAYd,IAAZc,QAEKkK,GAAoB,SAAC,GAA2B,IAAzBtI,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UAClCJ,EAAYrB,cAAZqB,QADkD,EAERO,sBAGhDlH,kBAAgB,CAChBmH,YAAa,YAAuC,IAAnBC,EAAkB,EAAnCiI,cAAiBjI,UAC/BL,GAAU,SAACuI,GAAD,mBAAC,eAAYA,GAAb,IAAgBlI,iBAC1B5G,EACE,qDACA,6DAVoD,mBAEnD6O,EAFmD,YAElCxJ,EAFkC,EAElCA,KAAMb,EAF4B,EAE5BA,QAAShE,EAFmB,EAEnBA,MAajCuO,EAAaC,mBAAQ,kBAAM1I,IAAQ,CAACA,IAEpC2I,EAAmBd,iBAAOU,GAWhC,OATAT,qBAAU,WACR,IAAMC,EAAO,IAAIzE,IAAIzC,OAAOC,SAASC,MAAMwC,aAAaC,IAAI,QACxDuE,EACFY,EAAiBzG,QAAQ,CAAExD,UAAW,CAAEsG,MAAO,CAAE+C,WAEjDlI,EAAQ,SAAD,OAAU4I,EAAWjM,OAE7B,CAACiM,EAAY5I,IAEZ3B,EAEA,cAAC,GAAD,CAASpD,UAAU,SAAnB,SACE,cAAC,IAAD,CAAME,KAAK,QAAQkN,IAAI,2CAIzBhO,EACK,cAAC,IAAD,CAAUmB,GAAE,gBAAW2E,EAAOxD,GAAlB,wBAGjBuC,EACK,cAAC,IAAD,CAAU1D,GAAE,gBAAW2E,EAAOxD,MAEhC,M,UClDD6B,GAAqB1D,IAArB0D,UAAW3D,GAAUC,IAAVD,MAENkO,GAA4B,SAAC,GAAiB,IAAfzM,EAAc,EAAdA,QAExCH,EAQEG,EARFH,KACA4I,EAOEzI,EAPFyI,KACAiE,EAME1M,EANF0M,KACAtM,EAKEJ,EALFI,MACAF,EAIEF,EAJFE,MACAD,EAGED,EAHFC,QACAxC,EAEEuC,EAFFvC,YACA0C,EACEH,EADFG,YAKF,OAFAwM,QAAQC,IAAI1M,GAGV,sBAAKvB,UAAU,kBAAf,UACE,qBACEA,UAAU,yBACVf,MAAO,CAAE2C,gBAAgB,OAAD,OAASL,EAAT,QAE1B,sBAAKvB,UAAU,+BAAf,UACE,eAAC,GAAD,CACE+B,UAAQ,EACRb,KAAK,YACLlB,UAAU,gCAHZ,UAKE,eAAC,IAAD,CAAMO,GAAE,oBAAeuJ,GAAvB,UACE,cAACoE,GAAA,EAAD,CAAqBjM,MAAOtD,IAD9B,IAC6CmL,KAE7C,cAAC,KAAD,CAAS5I,KAAK,aACbI,KAEH,cAAC,GAAD,CAAOO,MAAO,EAAG7B,UAAU,yBAA3B,SACGyB,OAGL,qBAAKzB,UAAU,2BAAf,SACE,eAAC,IAAD,CAAMO,GAAE,gBAAWwN,EAAKrM,IAAxB,UACE,cAAC,KAAD,CAAQhB,IAAKqN,EAAK1H,OAAQnG,KAAM,KAChC,cAAC,GAAD,CAAO2B,MAAO,EAAG7B,UAAU,6BAA3B,SACG+N,EAAKzH,YAIZ,cAAC,KAAD,IACA,sBAAKtG,UAAU,2BAAf,UACE,cAAC,GAAD,CAAO6B,MAAO,EAAd,8BACA,sBAAK7B,UAAU,+BAAf,UACE,cAAC,KAAD,CAAKiC,MAAM,UAAX,SAAsBf,IACtB,eAAC,KAAD,CAAKe,MAAM,UAAX,UAAsBT,EAAtB,gBAEF,cAAC,GAAD,CAAWO,SAAU,CAAEO,KAAM,EAAG6L,YAAY,GAA5C,SACGrP,WCpDHc,GAAgBC,IAAhBD,MAAOuB,GAAStB,IAATsB,KAEFiN,GAA6B,SAAC,GAKpC,IAJLvK,EAII,EAJJA,MACA4C,EAGI,EAHJA,aACA4H,EAEI,EAFJA,gBACA1H,EACI,EADJA,gBAEMC,GAAuB,OAAfyH,QAAe,IAAfA,OAAA,EAAAA,EAAiBzH,QAAS,KAClCvC,GAAwB,OAAfgK,QAAe,IAAfA,OAAA,EAAAA,EAAiBhK,SAAU,KAEpCiK,EAAsBD,EAC1B,cAAC,IAAD,CACErL,WAAYqB,QAAUyC,EACtBlE,KAAM,CAAExC,OAAQ,EAAGC,GAAI,EAAGwC,GAAI,EAAGC,GAAI,GACrCiE,OAAQ,CAAEC,UAAW,mCACrBC,WAAY,CACVE,eAAe,EACfC,QAASX,EACTY,gBAAiBxD,EACjByD,kBAAkB,EAClBV,MAAOA,QAASE,EAChBS,SAAU,SAACzD,GAAD,OAAkB6C,EAAgB7C,KAE9Cb,WAAY,SAACuE,GACX,IAAMC,EACJ,sBAAKzH,UAAU,4BAAf,UACE,6CACY,cAAC,GAAD,CAAM8B,QAAM,EAAZ,SAAc0F,EAAQE,aAElC,8CACa,cAAC,GAAD,CAAM5F,QAAM,EAAZ,SAAc0F,EAAQG,iBAKvC,OACE,eAAC,IAAKzE,KAAN,CAAWlD,UAAU,yBAArB,UACGyH,EACD,cAAC,IAAD,CAAMlH,GAAE,gBAAWiH,EAAQ+G,OAAO7M,IAAlC,SACE,cAAC,KAAD,CACExB,KAAM,GACNsO,MAAM,SACN9N,IAAG,UAAK8G,EAAQ+G,OAAOlI,kBAOjC,KAEJ,OAAOiI,EACL,sBAAKtO,UAAU,mBAAf,UACE,cAAC,KAAD,IACA,qBAAKA,UAAU,4BAAf,SACE,cAAC,GAAD,CAAO6B,MAAO,EAAd,wBAGDyM,KAED,M,8BCtDE/K,GAA2B1D,IAA3B0D,UAAW3D,GAAgBC,IAAhBD,MAAOuB,GAAStB,IAATsB,KAEbsN,GAAkC,SAAC,GAUzC,IATLV,EASI,EATJA,KACAzO,EAQI,EARJA,MACA4F,EAOI,EAPJA,OACAwJ,EAMI,EANJA,YACAC,EAKI,EALJA,aACAC,EAII,EAJJA,cACAC,EAGI,EAHJA,eACAC,EAEI,EAFJA,gBACAC,EACI,EADJA,gBAEMC,EAAoBC,KAAKC,MAAMN,GAa/BO,EAAe,SAACC,GACpB,QAAIA,IAC2BA,EAAYC,SAASC,OAASC,MAAM,SAbhD,SAACH,GACpB,IAAMI,EAAMF,KAAOF,GAAaI,MAC1BC,EAAOH,KAAOF,GAAaK,OAC3BC,EAAQJ,KAAOF,GAAaM,QAElC,SAAIV,EAAkBS,KAAST,EAAkBS,GAAMC,KAC9CC,QAAQX,EAAkBS,GAAMC,GAAOF,IAQfI,CAAaR,KAmC1CS,EAAe3K,EAAOxD,KAAOqM,EAAKrM,GAClCoO,GAAwB5K,EAAOxD,IAAMmO,IAAiB9B,EAAKvI,UAC3DuK,EAAwBD,IAAyBpB,EACjDsB,EAAiBF,IAAyBpB,IAAgBC,EAI5DsB,EAAgB,4BAChBH,IACFG,EAAgB,+CAEdJ,IACFI,EAAgB,sCAEblC,EAAKvI,YACRyK,EACE,0EAKJ,OACE,qBAAKjQ,UAAU,kBAAf,SACE,eAAC,IAAD,CAAMA,UAAU,wBAAhB,UACE,gCACE,cAAC,GAAD,UACE,eAAC,GAAD,CAAO6B,MAAO,EAAG7B,UAAU,8BAA3B,UACGX,EAAmBC,GACpB,6CAGJ,cAAC,KAAD,IACA,sBAAKU,UAAU,oCAAf,UACE,cAAC,GAAD,CAAW8B,QAAM,EAAjB,sBACA,cAAC,KAAD,CACEoO,WAAW,EACXC,OAAO,aACPhM,MAAOuK,EACPnH,SAAUsH,EACVM,aAAcA,EACdtJ,SAAUiK,EACVM,aApCc,kBAAMrB,EAAgB,YAuCxC,sBAAK/O,UAAU,oCAAf,UACE,cAAC,GAAD,CAAW8B,QAAM,EAAjB,uBACA,cAAC,KAAD,CACEoO,WAAW,EACXC,OAAO,aACPhM,MAAOwK,EACPQ,aAAcA,EACdtJ,SAAUkK,EACVxI,SAlFqB,SAAC8I,GAChC,GAAI3B,GAAe2B,GACbf,KAAOe,GAAsBhB,SAASX,EAAa,QACrD,OAAOvP,EACL,+DAMN,IADA,IAAImR,EAAa5B,EACVY,KAAOgB,GAAYjB,SAASgB,EAAsB,SAAS,CAChEC,EAAahB,KAAOgB,GAAYC,IAAI,EAAG,QAEvC,IAAMf,EAAMF,KAAOgB,GAAYd,MACzBC,EAAOH,KAAOgB,GAAYb,OAC1BC,EAAQJ,KAAOgB,GAAYZ,QAEjC,GACEV,EAAkBS,IAClBT,EAAkBS,GAAMC,IACxBV,EAAkBS,GAAMC,GAAOF,GAE/B,OAAOrQ,EACL,wFAIN4P,EAAgBsB,YA2DZ,cAAC,KAAD,IACA,cAAC,KAAD,CACEnQ,KAAK,QACLgB,KAAK,UACL2E,SAAUmK,EACVlK,QA1CqB,kBAAMgJ,GAAgB,IA2C3C9O,UAAU,4BALZ,8BASA,cAAC,GAAD,CAAMkB,KAAK,YAAYsP,MAAI,EAA3B,SACGP,U,8BC1HH1M,GAA2B1D,IAA3B0D,UAAWpC,GAAgBtB,IAAhBsB,KAAMvB,GAAUC,IAAVD,MAuHZ6Q,GAA4BC,wBAnHrC,SAAC,GAUE,IATLhP,EASI,EATJA,GACApC,EAQI,EARJA,MACAqR,EAOI,EAPJA,OACAjC,EAMI,EANJA,YACAC,EAKI,EALJA,aACAiC,EAII,EAJJA,aACA9B,EAGI,EAHJA,gBACA+B,EAEI,EAFJA,iBACAC,EACI,EADJA,qBACI,EAEiCxL,sBAGnCnH,kBAAgB,CAChBoH,YAAa,WACXsL,IACAjS,EACE,0CACA,0DAEFkS,KAEFpL,QAAS,WACPvG,EACE,sFAhBF,mBAEG4R,EAFH,KAEoB3N,EAFpB,KAEoBA,QAmBlB4N,EAAarC,EAAasC,KAAKvC,EAAa,QAAU,EACtDwC,EAAe5R,EAAQ0R,EAEvBG,EAAmB,yCAAG,iCAAA7I,EAAA,yDACrBqI,EADqB,yCAEjBxR,EACL,qDAHsB,uBAOgBwR,EAAOS,cAPvB,gBAObC,EAPa,EAOpB7E,MAAoBpN,EAPA,EAOAA,MACtBiS,EACFN,EAAc,CACZnN,UAAW,CACTsG,MAAO,CACLxI,KACA4P,OAAQD,EAAY3P,GACpBgG,QAAS4H,KAAOZ,GAAayB,OAAO,cACpCxI,SAAU2H,KAAOX,GAAcwB,OAAO,kBAK5ChR,EACEC,GAASA,EAAMP,QACXO,EAAMP,QACN,uEAvBkB,2CAAH,qDA4BzB,OACE,cAAC,KAAD,CAAO0S,UAAQ,EAACC,OAAQ,KAAMC,SApDf,kBAAM3C,GAAgB,IAoDa4C,QAASd,EAA3D,SACE,sBAAK5Q,UAAU,wBAAf,UACE,sBAAKA,UAAU,+BAAf,UACE,cAAC,GAAD,CAAOA,UAAU,qCAAjB,SACE,cAAC2R,GAAA,EAAD,MAEF,cAAC,GAAD,CAAO9P,MAAO,EAAG7B,UAAU,qCAA3B,4BAGA,eAAC,GAAD,uFAGE,cAAC,GAAD,CAAMwQ,MAAI,EAAC1O,QAAM,EAAjB,SACGwN,KAAOZ,GAAayB,OAAO,kBACtB,IALV,MAMM,IACJ,cAAC,GAAD,CAAMK,MAAI,EAAC1O,QAAM,EAAjB,SACGwN,KAAOX,GAAcwB,OAAO,kBARjC,qBAaF,cAAC,KAAD,IACA,sBAAKnQ,UAAU,wCAAf,UACE,eAAC,GAAD,WACGX,EAAmBC,GAAO,GAD7B,MACwC0R,EADxC,UAC2D,IACzD,cAAC,GAAD,CAAMlP,QAAM,EAAZ,SAAczC,EAAmB6R,GAAc,QAEjD,eAAC,GAAD,CAAWlR,UAAU,8CAArB,qBACU,cAAC,GAAD,CAAMwQ,MAAI,EAAV,SAAYnR,EAAmB6R,GAAc,WAGzD,cAAC,KAAD,IACA,sBAAKlR,UAAU,6CAAf,UACE,qBAAKf,MAAO,CAAE2S,QAAS,UAAvB,SACE,cAAC,cAAD,CAAaC,gBAAc,MAE7B,cAAC,KAAD,CACE3R,KAAK,QACLgB,KAAK,UACLkC,QAASA,EACT0C,QAASqL,EACTnR,UAAU,6BALZ,6B,UCzGFsD,GAAYd,IAAZc,QAEKwO,GAAqB,SAAC,GAAgB,IAAd5M,EAAa,EAAbA,OAC3BxD,EAAOyG,cAA6BC,OAApC1G,GADwC,EAERwG,mBAAS,GAFD,mBAEzCzB,EAFyC,KAE3BE,EAF2B,OAGRuB,oBAAS,GAHD,mBAGzC0I,EAHyC,KAG3B9B,EAH2B,OAIV5G,mBAAwB,MAJd,mBAIzCwG,EAJyC,KAI5BG,EAJ4B,OAKR3G,mBAAwB,MALhB,mBAKzCyG,EALyC,KAK3BI,EAL2B,OAONpL,mBAGxC1F,WAAS,CAAE2F,UAAW,CAAElC,KAAImC,MAbb,EAagC4C,kBAHzCxC,EAPwC,EAOxCA,KAAMb,EAPkC,EAOlCA,QAAShE,EAPyB,EAOzBA,MAAOiJ,EAPkB,EAOlBA,QAWxByI,EAAoB,yCAAG,uBAAAxI,EAAA,sDAC3BD,IAD2B,2CAAH,qDAI1B,GAAIjF,EACF,OACE,cAAC,GAAD,CAASpD,UAAU,WAAnB,SACE,cAAC,EAAD,MAKN,GAAIZ,EACF,OACE,eAAC,GAAD,CAASY,UAAU,WAAnB,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CAAalB,YAAY,wFAK/B,IAAMuC,GAAc,OAAJ4C,QAAI,IAAJA,OAAA,EAAAA,EAAM5C,UAAW,KAC3BgN,GAAsB,OAAJpK,QAAI,IAAJA,OAAA,EAAAA,EAAM5C,QAAQsH,WAAY,KAE5CoJ,EAAwB1Q,EAC5B,cAAC,GAAD,CAAgBA,QAASA,IACvB,KAEE2Q,EAAyB3D,EAC7B,cAAC,GAAD,CACExK,MAnDa,EAoDb4C,aAAcA,EACdE,gBAAiBA,EACjB0H,gBAAiBA,IAEjB,KAEE4D,EAA6B5Q,EACjC,cAAC,GAAD,CACE6D,OAAQA,EACR6I,KAAM1M,EAAQ0M,KACdzO,MAAO+B,EAAQ/B,MACfoP,YAAaA,EACbC,aAAcA,EACdE,eAAgBA,EAChBE,gBAAiBA,EACjBD,gBAAiBA,EACjBF,cAAevN,EAAQuN,gBAEvB,KAEEsD,GACG,OAAP7Q,QAAO,IAAPA,OAAA,EAAAA,EAAS/B,QAASoP,GAAeC,EAC/B,cAAC8B,GAAD,CACE/O,GAAIL,EAAQK,GACZpC,MAAK,OAAE+B,QAAF,IAAEA,OAAF,EAAEA,EAAS/B,MAChBoP,YAAaA,EACbC,aAAcA,EACdiC,aAAcA,EACd9B,gBAAiBA,EACjB+B,iBAlEmB,WACvB/B,GAAgB,GAChBD,EAAe,MACfE,EAAgB,OAgEZ+B,qBAAsBA,IAEtB,KAEN,OACE,eAAC,GAAD,CAAS9Q,UAAU,WAAnB,UACE,eAAC,IAAD,CAAKI,OAAQ,GAAI2I,OAAO,OAAOC,QAAQ,gBAAvC,UACE,eAAC,IAAD,CAAK3I,GAAI,GAAIyC,GAAI,GAAjB,UACGiP,EACAC,KAEH,cAAC,IAAD,CAAK3R,GAAI,GAAIyC,GAAI,GAAjB,SACGmP,OAGJC,MC3HMC,GAAe,WAC1B,OAAO,2C,UCODnO,GAAyCvF,EAAzCuF,kBAAmBoO,GAAsB3T,EAAtB2T,kBAEnBC,GAAWC,KAAXD,OACKE,GAA4B,SAAC,GAA2B,IAAzBxO,EAAwB,EAAxBA,OAAQyO,EAAgB,EAAhBA,UAClD,OACE,sBAAKxS,UAAU,mBAAf,UACE,6CACA,eAAC,KAAD,CAAQmE,MAAOJ,EAAQwD,SAAUiL,EAAjC,UACE,cAACH,GAAD,CAAQlO,MAAOiO,GAAf,gCACA,cAACC,GAAD,CAAQlO,MAAOH,GAAf,uCCdKyO,GAAuB,WAClC,IAAMC,EAAY,IAAIC,MAAM,GAAGC,KAAK,IACpC,OACE,gCACE,cAAC,IAAD,CAAUvQ,UAAW,CAAEC,KAAM,KAC7B,cAAC,IAAD,CACEM,KAAM,CAAExC,OAAQ,EAAGC,GAAI,EAAGwC,GAAI,EAAGvC,GAAI,EAAGwC,GAAI,EAAGC,GAAI,GACnDC,WAAY0P,EACZzP,WAAY,kBACV,cAAC,IAAKC,KAAN,UACE,cAAC,IAAD,CACEE,SAAO,EACPpD,UAAU,0BACVQ,MACE,qBACER,UAAU,oCACVf,MAAO,CAAEoE,gBAAgB,OAAD,OCrB3B,8vRDqB2B,mB,UEX7BwP,GAAgC,SAAC,GAKvC,IAJL/O,EAII,EAJJA,KACA8C,EAGI,EAHJA,MACA/C,EAEI,EAFJA,MACAiP,EACI,EADJA,QAEA,OACE,cAAC,KAAD,CACElM,MAAOA,EACPO,eAAa,EACbC,QAAStD,EACTwD,kBAAgB,EAChBC,SAAUuL,EACVzL,gBAAiBxD,EACjB7D,UAAU,yBCLRsD,GAAYd,IAAZc,QACA8O,GAAsB3T,EAAtB2T,kBACAxS,GAA2BC,IAA3BD,MAAO2D,GAAoB1D,IAApB0D,UAAWpC,GAAStB,IAATsB,KAMb4R,GAAe,WAAO,IAAD,EACR7K,mBAAS,GADD,mBACzBpE,EADyB,KACnBgP,EADmB,OAEJ5K,mBAASkK,IAFL,mBAEzBrO,EAFyB,KAEjByO,EAFiB,KAGxBxM,EAAamC,cAA6BC,OAA1CpC,SAEFgN,EAAcjG,iBAAO/G,GALK,EAOCrC,mBAC/B7F,YACA,CACE8F,UAAW,CACTE,OACAC,SACAiC,WACAnC,MAvBW,GAyBboP,KAAMD,EAAY5L,UAAYpB,GAAqB,IAATlC,IATtCG,EAPwB,EAOxBA,KAAMb,EAPkB,EAOlBA,QAAShE,EAPS,EAOTA,MAkBvB,GALA4N,qBAAU,WACR8F,EAAQ,GACRE,EAAY5L,QAAUpB,IACrB,CAACA,IAEA5C,EACF,OACE,cAAC,GAAD,CAASpD,UAAU,WAAnB,SACE,cAAC,GAAD,MAKN,GAAIZ,EACF,OACE,eAAC,GAAD,CAASY,UAAU,WAAnB,UACE,cAAC,EAAD,CACElB,YAAY,oLAKd,cAAC,GAAD,OAKN,IAAM6D,GAAe,OAAJsB,QAAI,IAAJA,OAAA,EAAAA,EAAMtB,WAAY,KAC7BuQ,GAAqB,OAAJjP,QAAI,IAAJA,OAAA,EAAAA,EAAMtB,SAASwQ,SAAU,KAE1CC,EACJzQ,GAAYA,EAAS0B,OAAOgP,OAC1B,gCACE,cAAC,IAAD,CAAOC,UAAW,GAAlB,SACE,gCACE,cAAC,GAAD,CACExP,KAAMA,EACNgP,QAASA,EACTjP,MAnEK,EAoEL+C,MAAOjE,EAASiE,QAElB,cAAC,GAAD,CAAgB7C,OAAQA,EAAQyO,UAAWA,SAG/C,cAAC,IAAD,CACExP,WAAYL,EAAS0B,OACrBzB,KAAM,CAAExC,OAAQ,EAAGC,GAAI,EAAGwC,GAAI,EAAGvC,GAAI,EAAGwC,GAAI,EAAGC,GAAI,GACnDE,WAAY,SAAC5B,GAAD,OACV,cAAC,IAAK6B,KAAN,UACE,cAAC,EAAD,CAAa7B,QAASA,YAM9B,gCACE,eAAC,GAAD,mEACwD,IACtD,eAAC,GAAD,CAAMmP,MAAI,EAAV,cAAa0C,EAAb,UAEF,eAAC,GAAD,6CACkC,IAChC,cAAC,IAAD,CAAM3S,GAAG,QAAT,kCAFF,UAOAgT,EAAwBL,EAC5B,eAAC,GAAD,CAAOrR,MAAO,EAAG7B,UAAU,kBAA3B,yBACekT,EADf,OAGE,KAEJ,OACE,eAAC,GAAD,CAASlT,UAAU,WAAnB,UACGuT,EACAH,M,oBCjHClQ,GAAkBsQ,KAAlBtQ,KAAMuQ,GAAYD,KAAZC,QAODC,GAAuB,SAAC,GAA2B,IAAzBxO,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UACrCzD,EAAewD,EAAfxD,GAAI2E,EAAWnB,EAAXmB,OADiD,EAG5Cf,sBAAwB9G,WAAS,CAChD+G,YAAa,YAAiB,IAAdoO,EAAa,EAAbA,OACdxO,EAAUwO,GACVlH,eAAemH,WAAW,SAC1BhV,EAA2B,sCAE7B8G,QAAS,kBACPvG,EACE,qEARCwU,EAHsD,oBAmBvDE,EAAenS,EACnB,eAAC+R,GAAD,CAAShS,MAAO,cAAC,KAAD,CAAQf,IAAK2F,IAA7B,UACE,cAAC,GAAD,UACE,eAAC,IAAD,CAAM9F,GAAE,gBAAWmB,GAAnB,UACE,cAACM,EAAA,EAAD,IADF,cADQ,SAMV,cAAC,GAAD,UACE,sBAAK8D,QAbU,WACnB6N,KAYI,UACE,cAACG,GAAA,EAAD,IADF,cADQ,cAQZ,cAAC,GAAD,UACE,cAAC,IAAD,CAAMvT,GAAG,SAAT,SACE,cAAC,KAAD,CAAQW,KAAK,UAAb,yBAKN,OACE,eAAC,KAAD,CAAM6S,KAAK,aAAaC,YAAY,EAAOhU,UAAU,OAArD,UACE,cAAC,GAAD,UACE,eAAC,IAAD,CAAMO,GAAG,QAAT,UACE,cAACmK,GAAA,EAAD,IADF,YADQ,SAKTmJ,MCpDCnU,GAAWC,IAAXD,OACA6C,GAAWC,IAAXD,OAEK0R,GAAuB,SAAC,GAA2B,IAAzB/O,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UACrC1B,EAASC,cAATD,KACAyQ,EAAaC,cAAbD,SAFqD,EAGjChM,mBAAS,IAHwB,mBAGtDkM,EAHsD,KAG9CC,EAH8C,KAK7DrH,qBAAU,WACR,IAAMsH,EAAqBJ,EAASK,MAAM,KACpCC,EAAeN,EAASO,SAAS,aAClCD,GACHH,EAAU,IAGRG,GAA8C,IAA9BF,EAAmBjB,QACrCgB,EAAUC,EAAmB,MAG9B,CAACJ,IAcJ,OACE,eAAC,GAAD,CAAQlU,UAAU,aAAlB,UACE,sBAAKA,UAAU,kCAAf,UACE,qBAAKA,UAAU,mBAAf,SACE,cAAC,IAAD,CAAMO,GAAG,IAAT,SACE,qBAAKG,ICpDF,yjCDoDaD,IAAI,iBAGxB,qBAAKT,UAAU,2BAAf,SACE,cAAC,GAAD,CACEC,aAAW,EACXkE,MAAOiQ,EACP7M,SAfO,SAAC,GAAD,IAAGrB,EAAH,EAAGA,OAAH,OACfmO,EAAUnO,EAAO/B,QAeTpE,SAzBO,SAACoE,GAChB,IAAMuQ,EAAevQ,EAAMC,OACvBsQ,EACFjR,EAAK,aAAD,OAAciR,IAElBvV,EAAoB,uCAqBdgB,YAAY,gCAIlB,qBAAKH,UAAU,2BAAf,SACE,cAAC,GAAD,CAAWkF,OAAQA,EAAQC,UAAWA,UEnCxCwP,I,OAAWC,yBAAe,CAAEC,IAAK,UAEjCC,GAAgBC,aAAW,SAACC,EAAMC,GACtC,IAAMzI,EAAQC,eAAeyI,QAAQ,UAAY,GACjD,OAAO,2BACFD,GADL,IAEEE,QAAS,CAAE,eAAgB3I,QAIzBH,GAAS,IAAI+I,eAAa,CAC9BC,YAAa,UACbC,MAAO,IAAIC,gBACXC,KAAMV,GAAcW,OAAOd,MAGvBe,GAAwB,CAC5BhU,GAAI,KACJ8K,MAAO,KACPnG,OAAQ,KACRb,UAAW,KACXmQ,YAAY,GAGRC,GAAU,WAAO,IAAD,EACQ1N,mBAASwN,IADjB,mBACbxQ,EADa,KACLC,EADK,OAEOG,sBAAuC/G,UAAQ,CACxEgH,YAAa,YAAgB,IAAbgH,EAAY,EAAZA,MACdpH,EAAUoH,GACNA,EAAMC,MACRC,eAAeC,QAAQ,QAASH,EAAMC,OAEtCC,eAAemH,WAAW,YARZ,mBAEbrH,EAFa,KAEJnN,EAFI,KAEJA,MAWV0N,EAAWC,iBAAOR,GAMxB,GAJAS,qBAAU,WACRF,EAAS1F,YACR,KAEElC,EAAOyQ,aAAevW,EACzB,OACE,eAAC,IAAD,CAAQY,UAAU,eAAlB,UACE,cAAC,EAAD,IACA,qBAAKA,UAAU,6BAAf,SACE,cAAC,IAAD,CAAME,KAAK,QAAQkN,IAAI,6BAM/B,IAAMC,EAA0BjO,EAC9B,cAAC,EAAD,CAAaN,YAAY,6EACvB,KAIJ,OACE,cAAC,iBAAD,CAAgB+W,OAHHpR,8GAGb,SACE,cAAC,IAAD,UACE,eAAC,IAAD,CAAQ/C,GAAG,MAAX,UACG2L,EACD,cAAC,IAAD,CAAOiG,UAAW,EAAlB,SACE,cAAC,GAAD,CAAWpO,OAAQA,EAAQC,UAAWA,MAExC,eAAC,IAAD,WACE,cAAC,IAAD,CAAO2Q,OAAK,EAACC,KAAK,IAAIC,UAAWxS,KACjC,cAAC,IAAD,CAAOsS,OAAK,EAACC,KAAK,QAAlB,SACE,cAAC,GAAD,CAAM7Q,OAAQA,MAEhB,cAAC,IAAD,CAAO4Q,OAAK,EAACC,KAAK,SAAlB,SACE,cAAC,GAAD,CAAO5Q,UAAWA,MAEpB,cAAC,IAAD,CAAO2Q,OAAK,EAACC,KAAK,UAAlB,SACE,cAAC,GAAD,CAAQ7Q,OAAQA,EAAQC,UAAWA,MAErC,cAAC,IAAD,CAAO2Q,OAAK,EAACC,KAAK,YAAlB,SACE,cAAC,GAAD,CAAM5Q,UAAWA,EAAWD,OAAQA,MAEtC,cAAC,IAAD,CAAO4Q,OAAK,EAACC,KAAK,eAAlB,SACE,cAAC,WAAD,UACE,cAAC,GAAD,CAAS7Q,OAAQA,QAGrB,cAAC,IAAD,CAAO4Q,OAAK,EAACC,KAAK,uBAAuBC,UAAWjD,KACpD,cAAC,IAAD,CAAOiD,UAAW7D,gBAQ9B8D,iBACE,cAAC,iBAAD,CAAgB5J,OAAQA,GAAxB,SACE,cAAC,GAAD,MAEF6J,SAASC,eAAe,W","file":"static/js/main.2511232e.chunk.js","sourcesContent":["export * from \"./User\";\nexport * from \"./AuthUrl\";\nexport * from \"./Listing\";\nexport * from \"./Listings\";\n","export * from \"./LogIn\";\nexport * from \"./LogOut\";\nexport * from \"./HostListing\";\nexport * from \"./CreateBooking\";\nexport * from \"./ConnectStripe\";\nexport * from \"./DisconnectStripe\";\n","import { gql } from \"@apollo/client\";\n\nexport const LISTINGS = gql`\n  query Listings(\n    $page: Int!\n    $limit: Int!\n    $location: String\n    $filter: ListingFilter!\n  ) {\n    listings(limit: $limit, page: $page, filter: $filter, location: $location) {\n      total\n      region\n      result {\n        id\n        title\n        image\n        price\n        address\n        numOfGuests\n      }\n    }\n  }\n`;\n\nexport * from \"./__generated__/Listings\";\n","import { gql } from \"@apollo/client\";\n\nexport const DISCONNECT_STRIPE = gql`\n  mutation DisconnectStripe {\n    disconnectStripe {\n      id\n      hasWallet\n    }\n  }\n`;\n\nexport * from \"./__generated__/DisconnectStripe\";\n","import { gql } from \"@apollo/client\";\n\nexport const LISTING = gql`\n  query Listing($id: ID!, $bookingsPage: Int!, $limit: Int!) {\n    listing(id: $id) {\n      id\n      city\n      type\n      price\n      title\n      image\n      address\n      description\n      numOfGuests\n      bookingsIndex\n      host {\n        id\n        name\n        avatar\n        hasWallet\n      }\n      bookings(limit: $limit, page: $bookingsPage) {\n        total\n        result {\n          id\n          checkIn\n          checkOut\n          tenant {\n            id\n            name\n            avatar\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport * from \"./__generated__/Listing\";\n","import { gql } from \"@apollo/client\";\n\nexport const HOST_LISTING = gql`\n  mutation HostListing($input: HostListingInput!) {\n    hostListing(input: $input) {\n      id\n    }\n  }\n`;\n\nexport * from \"./__generated__/HostListing\";\n","import { gql } from \"@apollo/client\";\n\nexport const CREATE_BOOKING = gql`\n  mutation CreateBooking($input: CreateBookingInput!) {\n    createBooking(input: $input) {\n      id\n    }\n  }\n`;\nexport * from \"./__generated__/CreateBooking\";\n","import { gql } from \"@apollo/client\";\n\nexport const CONNECT_STRIPE = gql`\n  mutation ConnectStripe($input: ConnectStripeInput!) {\n    connectStripe(input: $input) {\n      id\n      hasWallet\n    }\n  }\n`;\n\nexport * from \"./__generated__/ConnectStripe\";\n","import { gql } from \"@apollo/client\";\n\nexport const USER = gql`\n  query User($id: ID!, $bookingsPage: Int!, $listingsPage: Int!, $limit: Int!) {\n    user(id: $id) {\n      id\n      name\n      avatar\n      income\n      contact\n      hasWallet\n      bookings(limit: $limit, page: $bookingsPage) {\n        total\n        result {\n          id\n          checkIn\n          checkOut\n          listing {\n            id\n            price\n            image\n            title\n            address\n            numOfGuests\n          }\n        }\n      }\n      listings(limit: $limit, page: $listingsPage) {\n        total\n        result {\n          id\n          price\n          image\n          title\n          address\n          numOfGuests\n        }\n      }\n    }\n  }\n`;\n\nexport * from \"./__generated__/User\";\n","import { gql } from \"@apollo/client\";\n\nexport const AUTH_URL = gql`\n  query AuthUrl {\n    authUrl\n  }\n`;\n\nexport * from \"./__generated__/AuthUrl\";\n","import { gql } from \"@apollo/client\";\n\nexport const LOG_IN = gql`\n  mutation LogIn($input: LogInInput) {\n    logIn(input: $input) {\n      id\n      token\n      avatar\n      hasWallet\n      didRequest\n    }\n  }\n`;\n\nexport * from \"./__generated__/LogIn\";\n","import { gql } from \"@apollo/client\";\n\nexport const LOG_OUT = gql`\n  mutation LogOut {\n    logOut {\n      id\n      token\n      avatar\n      hasWallet\n      didRequest\n    }\n  }\n`;\n\nexport * from \"./__generated__/LogOut\";\n","/* tslint:disable */\n/* eslint-disable */\n// @generated\n// This file was automatically generated and should not be edited.\n\n//==============================================================\n// START Enums and Input Objects\n//==============================================================\n\nexport enum ListingFilter {\n  PRICE_HIGH_TO_LOW = \"PRICE_HIGH_TO_LOW\",\n  PRICE_LOW_TO_HIGH = \"PRICE_LOW_TO_HIGH\",\n}\n\nexport enum ListingType {\n  APARTMENT = \"APARTMENT\",\n  HOUSE = \"HOUSE\",\n}\n\nexport interface ConnectStripeInput {\n  code: string;\n}\n\nexport interface CreateBookingInput {\n  id: string;\n  source: string;\n  checkIn: string;\n  checkOut: string;\n}\n\nexport interface HostListingInput {\n  price: number;\n  type: string;\n  title: string;\n  image: string;\n  address: string;\n  numOfGuests: number;\n  description: string;\n}\n\nexport interface LogInInput {\n  code: string;\n}\n\n//==============================================================\n// END Enums and Input Objects\n//==============================================================\n","import { message, notification } from \"antd\";\n\nexport const iconColor = \"#1890ff\";\n\nexport const displaySuccessNotification = (\n  message: string,\n  description?: string\n) => {\n  return notification[\"success\"]({\n    message,\n    description,\n    placement: \"topLeft\",\n    style: {\n      marginTop: 50,\n    },\n  });\n};\n\nexport const displayErrorMessage = (error: string) => {\n  return message.error(error);\n};\n\nexport const formatListingPrice = (price: number, round = true) => {\n  const formattedListingPrice = round ? Math.round(price / 100) : price / 100;\n  return `$${formattedListingPrice}`;\n};\n","export default __webpack_public_path__ + \"static/media/dubai.a6c56bca.jpg\";","export default __webpack_public_path__ + \"static/media/london.16fb9b9d.jpg\";","export default __webpack_public_path__ + \"static/media/toronto.5c221cf7.jpg\";","export default __webpack_public_path__ + \"static/media/los-angeles.44220702.jpg\";","import { FC } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Card, Col, Input, Row, Typography } from \"antd\";\n\nimport dubaiImage from \"../../assets/dubai.jpg\";\nimport londonImage from \"../../assets/london.jpg\";\nimport torontoImage from \"../../assets/toronto.jpg\";\nimport losAngelesImage from \"../../assets/los-angeles.jpg\";\n\ninterface Props {\n  onSearch(value: string): void;\n}\n\nconst { Search } = Input;\nconst { Title } = Typography;\n\nexport const HomeHero: FC<Props> = ({ onSearch }) => {\n  return (\n    <div className=\"home-hero\">\n      <div className=\"home-hero__search\">\n        <Title className=\"home-hero__title\">\n          Find a place you'll love to stay at\n        </Title>\n        <Search\n          enterButton\n          size=\"large\"\n          onSearch={onSearch}\n          className=\"home-hore__search-input\"\n          placeholder=\"Search 'San Francisco'\"\n        />\n      </div>\n      <Row gutter={12} className=\"home-hero__cards\">\n        <Col xs={12} md={6}>\n          <Link to=\"/listings/toronto\">\n            <Card cover={<img alt=\"Toronto\" src={torontoImage} />}>\n              Toronto\n            </Card>\n          </Link>\n        </Col>\n        <Col xs={12} md={6}>\n          <Link to=\"/listings/dubai\">\n            <Card cover={<img alt=\"Dubai\" src={dubaiImage} />}>Dubai</Card>\n          </Link>\n        </Col>\n        <Col xs={0} md={6}>\n          <Link to=\"/listings/los%20angeles\">\n            <Card cover={<img alt=\"Los Angeles\" src={losAngelesImage} />}>\n              Los Angeles\n            </Card>\n          </Link>\n        </Col>\n        <Col xs={0} md={6}>\n          <Link to=\"/listings/london\">\n            <Card cover={<img alt=\"London\" src={londonImage} />}>London</Card>\n          </Link>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n","import { FC } from \"react\";\nimport { Alert } from \"antd\";\n\ninterface Props {\n  message?: string;\n  description?: string;\n}\n\nexport const ErrorBanner: FC<Props> = ({\n  message = \"Uh oh! Something went wrong :(\",\n  description = \"Look like something went wrong. Please check your connection and/or try again later.\",\n}) => {\n  return (\n    <Alert\n      banner\n      closable\n      type=\"error\"\n      message={message}\n      className=\"error-banner\"\n      description={description}\n    />\n  );\n};\n","import { FC } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Card, Typography } from \"antd\";\nimport { UserOutlined } from \"@ant-design/icons\";\n\nimport { formatListingPrice, iconColor } from \"lib/utils\";\n\ninterface Props {\n  listing: {\n    id: string;\n    title: string;\n    image: string;\n    price: number;\n    address: string;\n    numOfGuests: number;\n  };\n}\n\nconst { Text, Title } = Typography;\n\nexport const ListingCard: FC<Props> = ({ listing }) => {\n  const { address, image, numOfGuests, price, title, id } = listing;\n\n  return (\n    <Link to={`/listing/${id}`}>\n      <Card\n        hoverable\n        cover={\n          <div\n            className=\"listing-card__cover-img\"\n            style={{ backgroundImage: `url(${image})` }}\n          />\n        }\n      >\n        <div className=\"listing-card__details\">\n          <div className=\"listing-card__description\">\n            <Title level={4} className=\"listing-card__price\">\n              {formatListingPrice(price)}\n              <span>/day</span>\n            </Title>\n            <Text strong ellipsis className=\"listing-card__title\">\n              {title}\n            </Text>\n            <Text ellipsis className=\"listing-card__address\">\n              {address}\n            </Text>\n          </div>\n          <div className=\"listing-card__dimensions listing-card__dimensions--guests\">\n            <UserOutlined style={{ color: iconColor }} />\n            <Text>{numOfGuests} guests</Text>\n          </div>\n        </div>\n      </Card>\n    </Link>\n  );\n};\n","import { FC } from \"react\";\nimport { Skeleton } from \"antd\";\n\nexport const PageSkeleton: FC = () => {\n  const skeletonParagraph = (\n    <Skeleton\n      active\n      paragraph={{ rows: 4 }}\n      className=\"page-skeleton__paragraph\"\n    />\n  );\n\n  return (\n    <>\n      {skeletonParagraph}\n      {skeletonParagraph}\n      {skeletonParagraph}\n    </>\n  );\n};\n","import { FC } from \"react\";\nimport { Layout } from \"antd\";\n\nimport logo from \"./assets/tinyhouse-logo.png\";\n\nconst { Header } = Layout;\n\nexport const AppHeaderSkeleton: FC = () => {\n  return (\n    <Header className=\"app-header\">\n      <div className=\"app-header__logo-search-section\">\n        <div className=\"app-header__logo\">\n          <img src={logo} alt=\"App Logo\" />\n        </div>\n      </div>\n    </Header>\n  );\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABICAYAAACp+JiNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKtSURBVHgB7ZvPcdNAFMa/ZTjkhm/JLaYDUgFJBeAKCBUgVUCowKICSAemAlyCO8hySgwXc0ouZPn22WLEv4xs7W5g5vvNOJpV5Iz10763Ty+yO2hCQDrmV5U7QWb4mS+4GSMN/gEEJAGSYEgCJMGQBEiCIQmQBEMSIAmGJEASDEmAJBiSAEkwJAGSYEgCJMGQBEiCIQmQBOMh0jI+mIZTZIb/Mhs5pCO5BDi8Q2ZSCogoHCAJhiRAEgxJgCQYkgBJMCQBkmBIAiTBkARIgnGfEuZsDLz8FnAUtxx73BOp+wm9cAH1Ze2azq4FmzFz5zBlw+Q5ClN+JvCq/yLAuKqdv+bv2DCZoTDFJPAKr/jjhCf7/m/HrGq3uqzchDPlLQpSSoK/XQuY9zmYM6WisDcoRAkJPs6AL7VbbPMmCjsrJSKrBMb3YhMCHjsQRXAGTSyUMpJPQsD59QABLZ9rN4uhhIxLaBYJgYmNJ38aEx0SYKGUUUR6CYzjZUxsibEZlUlEUgmxCLKEloko4oYVZoi5JiFJJGxqgD8WQamJIbas3FHKWiJF2RxrgEmfJXA0DaM9btrxDc8pnhRL5nH3uD7JNNYSfN+KS9BrDGToTNiqBqCAhh/6on1xvM4dDh+7+3lyx33+Xgw9JuEaAxkiwSPBEjgUJuHG7kQHJMydJbj1MujxDxBn4u2AGbFzTggOr/abcEgZXzu7/V03SDGBus4V61SCHlsQn4HYPKMwYvgccteY4yfYEaevCcMXbarYUywOT9sxp/CHWBbvT0PDhsqjHwey4CoZaqU7S8d8vWgHTEifuJlRwDP8fGXPUbDdpkYrJMEoGg6sEKu9gLPO2FaHeNfpOpUkCneei0rY3Fr/dnu9LHDPcRcKB0iCIQmQBEMSEFeHgMf431j3GpPxHWSq7xBvwxLFAAAAAElFTkSuQmCC\"","import { FC } from \"react\";\nimport { List, Typography } from \"antd\";\n\nimport { ListingCard } from \"lib/components\";\nimport { Listings } from \"lib/graphql/queries/Listings\";\n\ninterface Props {\n  title: string;\n  listings: Listings[\"listings\"][\"result\"];\n}\n\nconst { Title } = Typography;\n\nexport const HomeListings: FC<Props> = ({ listings, title }) => {\n  return (\n    <div className=\"home-listings\">\n      <Title level={4} className=\"home-listings__title\">\n        {title}\n      </Title>\n      <List\n        grid={{ gutter: 8, xs: 1, sm: 2, md: 3, lg: 4, xl: 4 }}\n        dataSource={listings}\n        renderItem={(listing) => (\n          <List.Item>\n            <ListingCard listing={listing} />\n          </List.Item>\n        )}\n      />\n    </div>\n  );\n};\n","import { FC } from \"react\";\nimport { Card, List, Skeleton } from \"antd\";\n\nimport listingLoadingCardCover from \"../../assets/listing-loading-card-cover.jpg\";\n\nexport const HomeListingsSkeleton: FC = () => {\n  const emptyData = [{}, {}, {}, {}];\n  return (\n    <div className=\"home-listings-skeleton\">\n      <Skeleton paragraph={{ rows: 0 }} />\n      <List\n        grid={{ gutter: 8, xs: 1, sm: 2, md: 4, lg: 4, xl: 4 }}\n        dataSource={emptyData}\n        renderItem={() => (\n          <List.Item>\n            <Card\n              loading\n              cover={\n                <div\n                  className=\"home-listings-skeleton__card-cover-img\"\n                  style={{ backgroundColor: `url(${listingLoadingCardCover})` }}\n                />\n              }\n            />\n          </List.Item>\n        )}\n      />\n    </div>\n  );\n};\n","export default \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAoEAAAGsCAYAAACiiX3NAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAABcgSURBVHgB7daxDYAwEARBm9yI/qtEUIARdex8BzuX/BiOAAECBAgQIEAgJzD/4vt5d65cMAECBAgQIEAgKnCdax7RdtkECBAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAAECBAgQIECAAAECBFoCH+giB1TBDI5HAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/cancun.7009e472.jpg\";","export default __webpack_public_path__ + \"static/media/map-background.c8201cdd.jpg\";","export default __webpack_public_path__ + \"static/media/san-fransisco.bc8599ab.jpg\";","import { FC } from \"react\";\nimport { useQuery } from \"@apollo/client\";\nimport { Layout, Typography, Col, Row } from \"antd\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport {\n  LISTINGS,\n  ListingsVariables,\n  Listings as ListingsData,\n} from \"lib/graphql/queries/Listings\";\nimport { displayErrorMessage } from \"lib/utils\";\nimport { ListingFilter } from \"lib/graphql/globalTypes\";\nimport { HomeHero, HomeListings, HomeListingsSkeleton } from \"./components\";\n\nimport cancunImage from \"./assets/cancun.jpg\";\nimport mapBackground from \"./assets/map-background.jpg\";\nimport sanFranciscoImage from \"./assets/san-fransisco.jpg\";\n\nconst { Content } = Layout;\nconst { Title, Paragraph } = Typography;\n\nconst PAGE_LIMIT = 4;\nconst PAGE_NUMBER = 1;\n\nexport const Home: FC = () => {\n  const { push } = useHistory();\n\n  const { data, loading } = useQuery<ListingsData, ListingsVariables>(\n    LISTINGS,\n    {\n      variables: {\n        limit: PAGE_LIMIT,\n        page: PAGE_NUMBER,\n        filter: ListingFilter.PRICE_HIGH_TO_LOW,\n      },\n    }\n  );\n\n  const onSearch = (value: string) =>\n    value.trim()\n      ? push(`/listings/${value.trim()}`)\n      : displayErrorMessage(\"Please enter a valid search value!\");\n\n  const renderListingsSection = () => {\n    if (loading) {\n      return <HomeListingsSkeleton />;\n    }\n\n    if (data) {\n      const listings = data.listings.result;\n      return <HomeListings title=\"Premium Listings\" listings={listings} />;\n    }\n\n    return null;\n  };\n  return (\n    <Content\n      className=\"home\"\n      style={{ backgroundImage: `url(${mapBackground})` }}\n    >\n      <HomeHero onSearch={onSearch} />\n      <div className=\"home__cta-section\">\n        <Title level={2} className=\"home__cta-section-title\">\n          Your guide for all things rental\n        </Title>\n        <Paragraph>\n          Helping you make the best decisions in renting your last minute\n          locations.\n        </Paragraph>\n        <Link\n          to=\"/listings/unites%20states\"\n          className=\"ant-btn ant-btn-primary ant-btn-lg home__cta-section-button\"\n        >\n          Popular listings in united states\n        </Link>\n      </div>\n      {renderListingsSection()}\n      <div className=\"home__listings\">\n        <Title level={4} className=\"home__listings-title\">\n          Listings of any kind\n        </Title>\n        <Row gutter={12}>\n          <Col xs={24} sm={12}>\n            <Link to=\"/listins/san%20francisco\">\n              <div className=\"home_listings-img-cover\">\n                <img\n                  alt=\"San Francisco\"\n                  src={sanFranciscoImage}\n                  className=\"home__listings-img\"\n                />\n              </div>\n            </Link>\n          </Col>\n          <Col xs={24} sm={12}>\n            <Link to=\"/listings/cancun\">\n              <div className=\"home_listings-img-cover\">\n                <img\n                  alt=\"Cancun\"\n                  src={cancunImage}\n                  className=\"home__listings-img\"\n                />\n              </div>\n            </Link>\n          </Col>\n        </Row>\n      </div>\n    </Content>\n  );\n};\n","import { FC, Fragment } from \"react\";\nimport { useMutation } from \"@apollo/client\";\nimport { Avatar, Card, Typography, Divider, Button, Tag } from \"antd\";\n\nimport {\n  formatListingPrice,\n  displayErrorMessage,\n  displaySuccessNotification,\n} from \"lib/utils\";\nimport { Viewer } from \"lib/types\";\nimport {\n  DISCONNECT_STRIPE,\n  DisconnectStripe as DisconnectStripeData,\n} from \"lib/graphql/mutations/DisconnectStripe\";\nimport { User as UserData } from \"lib/graphql/queries\";\n\ninterface Props {\n  viewer: Viewer;\n  viewerIsUser: boolean;\n  user: UserData[\"user\"];\n  handleUserRefetch(): Promise<void>;\n  setViewer: (viewer: Viewer) => void;\n}\n\nconst {\n  REACT_APP_S_OAUTH_URL: authUrl,\n  REACT_APP_S_CLIENT_ID: clientId,\n} = process.env;\nconst stripeAuthUrl = authUrl.replace(\"{{}}\", clientId);\n\nconst { Paragraph, Text, Title } = Typography;\nexport const UserProfile: FC<Props> = ({\n  user,\n  viewer,\n  setViewer,\n  viewerIsUser,\n  handleUserRefetch,\n}) => {\n  const [disconnectStripe, { loading }] = useMutation<DisconnectStripeData>(\n    DISCONNECT_STRIPE,\n    {\n      onCompleted: (data) => {\n        setViewer({ ...viewer, hasWallet: data.disconnectStripe.hasWallet });\n        displaySuccessNotification(\n          \"You've successfully disconnected from Stripe!\",\n          \"Yoy'll have to reconnect with Stripe to continue to create listings.\"\n        );\n        handleUserRefetch();\n      },\n      onError: () => {\n        displayErrorMessage(\n          \"Sorry! We weren't able to disconnect you from Stripe. Please try again later!\"\n        );\n      },\n    }\n  );\n\n  const disconnect = () => disconnectStripe();\n\n  const redirectToStripe = () => (window.location.href = stripeAuthUrl);\n\n  const additionalDetails = user.hasWallet ? (\n    <Fragment>\n      <Paragraph>\n        <Tag color=\"green\">Stripe Registered</Tag>\n      </Paragraph>\n      <Paragraph>\n        Income Earned:{\" \"}\n        <Text strong>\n          {user.income ? formatListingPrice(user.income) : \"0$\"}\n        </Text>\n      </Paragraph>\n      <Button\n        type=\"primary\"\n        loading={loading}\n        disabled={loading}\n        onClick={disconnect}\n        className=\"user-profile__details-cta\"\n      >\n        Disconnect Stripe\n      </Button>\n      <Paragraph type=\"secondary\">\n        By disconnecting, you won't be able to receive{\" \"}\n        <Text strong>any further payments</Text>. This will prevent users from\n        booking listings that you might have already created.\n      </Paragraph>\n    </Fragment>\n  ) : (\n    <Fragment>\n      <Paragraph>\n        Interested in becoming a TinyHouse host? Register with your Stripe\n        account!\n      </Paragraph>\n      <Button\n        type=\"primary\"\n        className=\"user-profile__details-cta\"\n        onClick={redirectToStripe}\n      >\n        Connect with Stripe\n      </Button>\n      <Paragraph type=\"secondary\">\n        TinyHouse uses{\" \"}\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://stripe.com/en-US/connect\"\n        >\n          Stripe\n        </a>{\" \"}\n        to help transfer your earnings in a secure and truster manner.\n      </Paragraph>\n    </Fragment>\n  );\n\n  const additionalDetailsSection = viewerIsUser ? (\n    <>\n      <Divider />\n      <div className=\"user-profile__details\">\n        <Title level={4}>Additional Details</Title>\n        {additionalDetails}\n      </div>\n    </>\n  ) : null;\n  return (\n    <div className=\"user-profile\">\n      <Card className=\"user-profile__card\">\n        <div className=\"user-profile__avatar\">\n          <Avatar size={100} src={user.avatar} />\n        </div>\n        <Divider />\n        <div className=\"user-profile__details\">\n          <Title level={4}>Details</Title>\n          <Paragraph>\n            Name: <Text strong>{user.name}</Text>\n          </Paragraph>\n          <Paragraph>\n            Contact: <Text strong>{user.contact}</Text>\n          </Paragraph>\n        </div>\n        {additionalDetailsSection}\n      </Card>\n    </div>\n  );\n};\n","import { FC } from \"react\";\nimport { Typography, List } from \"antd\";\n\nimport { User } from \"lib/graphql/queries\";\nimport { ListingCard } from \"lib/components\";\n\ninterface Props {\n  limit: number;\n  bookingsPage: number;\n  userBookings: User[\"user\"][\"bookings\"];\n  setBookingsPage: (page: number) => void;\n}\n\nconst { Paragraph, Title, Text } = Typography;\n\nexport const UserBookings: FC<Props> = ({\n  limit,\n  bookingsPage,\n  userBookings,\n  setBookingsPage,\n}) => {\n  const total = userBookings?.total || null;\n  const result = userBookings?.result || null;\n\n  const userBookingsList = userBookings ? (\n    <List\n      dataSource={result || undefined}\n      grid={{ gutter: 8, xs: 1, sm: 2, lg: 4 }}\n      locale={{ emptyText: \"User doesn't have any listings yet!\" }}\n      pagination={{\n        position: \"top\",\n        showLessItems: true,\n        current: bookingsPage,\n        defaultPageSize: limit,\n        hideOnSinglePage: true,\n        total: total || undefined,\n        onChange: (page: number) => setBookingsPage(page),\n      }}\n      renderItem={(booking) => {\n        const bookingHistory = (\n          <div className=\"user-bookings__booking-history\">\n            <div>\n              Check in: <Text strong>{booking.checkIn}</Text>\n            </div>\n            <div>\n              Check out: <Text strong>{booking.checkOut}</Text>\n            </div>\n          </div>\n        );\n\n        return (\n          <List.Item>\n            {bookingHistory}\n            <ListingCard listing={booking.listing} />\n          </List.Item>\n        );\n      }}\n    />\n  ) : null;\n\n  return userBookingsList ? (\n    <div className=\"user-bookings\">\n      <Title level={4} className=\"user-bookings__title\">\n        Bookings\n      </Title>\n      <Paragraph className=\"user-bookings__description\">\n        This section highlights the bookings you've made, and the\n        check-in/check-out dates associated with said bookings.\n      </Paragraph>\n      {userBookingsList}\n    </div>\n  ) : null;\n};\n","import { FC } from \"react\";\nimport { Typography, List } from \"antd\";\n\nimport { User } from \"lib/graphql/queries\";\nimport { ListingCard } from \"lib/components\";\n\ninterface Props {\n  limit: number;\n  listingsPage: number;\n  userListings: User[\"user\"][\"listings\"];\n  setListingsPage: (page: number) => void;\n}\n\nconst { Paragraph, Title } = Typography;\n\nexport const UserListings: FC<Props> = ({\n  limit,\n  listingsPage,\n  userListings,\n  setListingsPage,\n}) => {\n  const { total, result } = userListings;\n\n  const userListingsList = (\n    <List\n      dataSource={result}\n      pagination={{\n        total,\n        position: \"top\",\n        showLessItems: true,\n        current: listingsPage,\n        defaultPageSize: limit,\n        hideOnSinglePage: true,\n        onChange: (page: number) => setListingsPage(page),\n      }}\n      grid={{ gutter: 8, xs: 1, sm: 2, md: 3, lg: 3, xl: 3 }}\n      locale={{ emptyText: \"User doesn't have any listings yet!\" }}\n      renderItem={(listing) => (\n        <List.Item>\n          <ListingCard listing={listing} />\n        </List.Item>\n      )}\n    />\n  );\n  return (\n    <div className=\"user-listings\">\n      <Title level={4} className=\"user-listings__title\">\n        Listings\n      </Title>\n      <Paragraph className=\"user-listings__description\">\n        This section highlights the listings this user currently hosts and has\n        made available for bookings.\n      </Paragraph>\n      {userListingsList}\n    </div>\n  );\n};\n","import { FC, useState } from \"react\";\nimport { Col, Row, Layout } from \"antd\";\nimport { useQuery } from \"@apollo/client\";\nimport { useRouteMatch } from \"react-router-dom\";\n\nimport { Viewer } from \"lib/types\";\nimport { PageSkeleton, ErrorBanner } from \"lib/components\";\nimport { UserProfile, UserBookings, UserListings } from \"./components\";\nimport { USER, User as UserData, UserVariables } from \"lib/graphql/queries\";\n\ninterface RouteParams {\n  id: string;\n}\n\ninterface Props {\n  viewer: Viewer;\n  setViewer(viewer: Viewer): void;\n}\n\nconst PAGE_LIMIT = 4;\nconst { Content } = Layout;\n\nexport const User: FC<Props> = ({ viewer, setViewer }) => {\n  const [bookingsPage, setBookingsPage] = useState(1);\n  const [listingsPage, setListingsPage] = useState(1);\n  const { id } = useRouteMatch<RouteParams>().params;\n\n  const { data, loading, error, refetch } = useQuery<UserData, UserVariables>(\n    USER,\n    {\n      variables: { id, limit: PAGE_LIMIT, bookingsPage, listingsPage },\n    }\n  );\n\n  const handleUserRefetch = async () => {\n    await refetch();\n  };\n\n  const stripeError = new URL(window.location.href).searchParams.get(\n    \"stripe_error\"\n  );\n  const stripeErrorBanner = stripeError ? (\n    <ErrorBanner description=\"We had an issue connecting with Stripe. Please try again soon.\" />\n  ) : null;\n\n  if (loading) {\n    return (\n      <Content className=\"user\">\n        <PageSkeleton />\n      </Content>\n    );\n  }\n\n  if (error) {\n    return (\n      <Content className=\"user\">\n        <ErrorBanner description=\"This user may not exist or we've encountered an error. Please try again soon.\" />\n        <PageSkeleton />\n      </Content>\n    );\n  }\n\n  const user = data?.user || null;\n  const viewerIsUser = viewer.id === id;\n\n  const userListings = user?.listings || null;\n  const userBookings = user?.bookings || null;\n\n  const userListingsElement = userListings ? (\n    <UserListings\n      limit={PAGE_LIMIT}\n      userListings={userListings}\n      listingsPage={listingsPage}\n      setListingsPage={setListingsPage}\n    />\n  ) : null;\n\n  const userBookingsElement = userListings ? (\n    <UserBookings\n      limit={PAGE_LIMIT}\n      userBookings={userBookings}\n      bookingsPage={bookingsPage}\n      setBookingsPage={setBookingsPage}\n    />\n  ) : null;\n\n  const userProfileElement = user ? (\n    <UserProfile\n      user={user}\n      viewer={viewer}\n      setViewer={setViewer}\n      viewerIsUser={viewerIsUser}\n      handleUserRefetch={handleUserRefetch}\n    />\n  ) : null;\n\n  return (\n    <Content className=\"user\">\n      {stripeErrorBanner}\n      <Row gutter={12} typeof=\"flex\" justify=\"space-between\">\n        <Col xs={24}>{userProfileElement}</Col>\n        <Col xs={24}>\n          {userListingsElement}\n          {userBookingsElement}\n        </Col>\n      </Row>\n    </Content>\n  );\n};\n","import { FC, useState } from \"react\";\nimport {\n  Form,\n  Radio,\n  Input,\n  Layout,\n  Upload,\n  Button,\n  Typography,\n  InputNumber,\n} from \"antd\";\nimport {\n  HomeOutlined,\n  BankOutlined,\n  PlusOutlined,\n  LoadingOutlined,\n} from \"@ant-design/icons\";\nimport { useMutation } from \"@apollo/client\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { UploadChangeParam } from \"antd/lib/upload\";\n\nimport {\n  iconColor,\n  displayErrorMessage,\n  displaySuccessNotification,\n} from \"lib/utils\";\nimport {\n  HOST_LISTING,\n  HostListingVariables,\n  HostListing as HostListingData,\n} from \"lib/graphql/mutations/HostListing\";\nimport { Viewer } from \"lib/types\";\nimport { ListingType } from \"lib/graphql/globalTypes\";\n\ninterface Props {\n  viewer: Viewer;\n}\n\ninterface FormValues {\n  zip: string;\n  city: string;\n  state: string;\n  image: string;\n  title: string;\n  price: number;\n  guests: number;\n  address: string;\n  type: ListingType;\n  description: string;\n}\n\ntype MutationInput = HostListingVariables[\"input\"];\n\nconst { Item } = Form;\nconst { Content } = Layout;\nconst { Title, Text } = Typography;\nconst { APARTMENT, HOUSE } = ListingType;\n\nexport const Host: FC<Props> = ({ viewer }) => {\n  const [imageLoading, setImageLoading] = useState(false);\n  const [imageBase64Value, setImageBase64Value] = useState<string | null>(null);\n  const [hostListing, { loading, data }] = useMutation<\n    HostListingData,\n    HostListingVariables\n  >(HOST_LISTING, {\n    onCompleted: () => {\n      displaySuccessNotification(\"You've successfully created your listing!\");\n    },\n    onError: () => {\n      displayErrorMessage(\n        \"Sorry! We weren't able to create your listing. Please try again later.\"\n      );\n    },\n  });\n\n  const handleImageUpload = (info: UploadChangeParam) => {\n    const { file } = info;\n\n    if (file.status === \"uploading\") {\n      setImageLoading(true);\n      return;\n    }\n\n    if (file.status === \"done\" && file.originFileObj) {\n      getBase64Value(file.originFileObj, (imageBase64Value) => {\n        setImageBase64Value(imageBase64Value);\n        setImageLoading(false);\n      });\n    }\n  };\n\n  const handleHostListing = (values: FormValues) => {\n    const {\n      zip,\n      city,\n      type,\n      price,\n      state,\n      title,\n      guests,\n      address,\n      description,\n    } = values;\n    const fullAddress = `${address}, ${city}, ${state}, ${zip}`;\n\n    const input: MutationInput = {\n      type,\n      title,\n      description,\n      price: price * 100,\n      numOfGuests: guests,\n      address: fullAddress,\n      image: imageBase64Value || \"\",\n    };\n\n    hostListing({ variables: { input } });\n  };\n\n  if (!viewer.id || !viewer.hasWallet) {\n    return (\n      <Content className=\"host-content\">\n        <div className=\"host__form-header\">\n          <Title level={4} className=\"host__form-title\">\n            You'll have to be signed in and connected with Stripe to host a\n            listing!\n          </Title>\n          <Text type=\"secondary\">\n            We only allow users who've signed in to our application and have\n            connected with Stripe to host new listings. You can sign in at the{\" \"}\n            <Link to=\"/login\">/login</Link> page and connect with Stripe shortly\n            after.\n          </Text>\n        </div>\n      </Content>\n    );\n  }\n\n  if (loading) {\n    return (\n      <Content className=\"host-content\">\n        <div className=\"host__form-header\">\n          <Title level={4} className=\"host__form-title\">\n            Please wait!\n          </Title>\n          <Text type=\"secondary\">We're creating your listing now.</Text>\n        </div>\n      </Content>\n    );\n  }\n\n  if (data && data.hostListing.id) {\n    return <Redirect to={`/listing/${data.hostListing.id}`} />;\n  }\n\n  return (\n    <Content className=\"host-content\">\n      <Form layout=\"vertical\" onFinish={handleHostListing}>\n        <div className=\"host__form-header\">\n          <Title level={3} className=\"host_form-title\">\n            Hi! Let's get started listing your place.\n          </Title>\n          <Text type=\"secondary\">\n            In this form, we'll collect some basic and additional information\n            about your listing.\n          </Text>\n        </div>\n\n        <Item\n          name=\"type\"\n          label=\"Home Type\"\n          rules={[\n            { required: true, message: \"Please select a home type\" },\n            {\n              enum: [APARTMENT, HOUSE],\n              message: \"You can select only home or apartment type\",\n            },\n          ]}\n        >\n          <Radio.Group>\n            <Radio.Button value={APARTMENT}>\n              <BankOutlined color={iconColor} />\n              <span>Apartment</span>\n            </Radio.Button>\n            <Radio.Button value={HOUSE}>\n              <HomeOutlined color={iconColor} />\n              <span>House</span>\n            </Radio.Button>\n          </Radio.Group>\n        </Item>\n\n        <Item\n          name=\"guests\"\n          label=\"Max # of Guests\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter the max number of quests\",\n            },\n          ]}\n        >\n          <InputNumber min={1} placeholder=\"4\" />\n        </Item>\n\n        <Item\n          name=\"title\"\n          label=\"Title\"\n          extra=\"Max character count of 45\"\n          rules={[\n            {\n              required: true,\n              message: \"Please select a title for your listing\",\n            },\n          ]}\n        >\n          <Input\n            maxLength={45}\n            placeholder=\"The iconic and luxurious Bel-Air mansion\"\n          />\n        </Item>\n\n        <Item\n          name=\"description\"\n          label=\"Description of listing\"\n          extra=\"Max character count of 400\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter a description for your listing\",\n            },\n          ]}\n        >\n          <Input.TextArea\n            rows={3}\n            maxLength={400}\n            placeholder=\"Modern, clean, and iconic home of the Fresh Prince.Situated in the heart of Bel-Air, Los Angeles.\"\n          />\n        </Item>\n\n        <Item\n          name=\"address\"\n          label=\"Address\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter a address for your listing\",\n            },\n          ]}\n        >\n          <Input placeholder=\"251 North Briston Avenue\" />\n        </Item>\n\n        <Item\n          name=\"city\"\n          label=\"City/Town\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter a city name for your listing\",\n            },\n          ]}\n        >\n          <Input placeholder=\"Los Angeles\" />\n        </Item>\n\n        <Item\n          name=\"state\"\n          label=\"State/Province\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter a state name for your listing\",\n            },\n          ]}\n        >\n          <Input placeholder=\"California\" />\n        </Item>\n\n        <Item\n          name=\"zip\"\n          label=\"Zip/Postal code\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter a postal code for your listing\",\n            },\n          ]}\n        >\n          <Input placeholder=\"Please enter a zip code for your listing!\" />\n        </Item>\n\n        <Item\n          name=\"image\"\n          label=\"Image\"\n          extra=\"Images must be under 1MB in size and of type JPG or PNG\"\n          rules={[\n            {\n              required: true,\n              message: \"Please provide a image for your listing\",\n            },\n          ]}\n        >\n          <div className=\"host__form-image-upload\">\n            <Upload\n              name=\"image\"\n              showUploadList={false}\n              listType=\"picture-card\"\n              onChange={handleImageUpload}\n              beforeUpload={beforeImageUpload}\n              action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n            >\n              {imageBase64Value ? (\n                <img alt=\"Listing\" src={imageBase64Value} />\n              ) : (\n                <div>\n                  {imageLoading ? <LoadingOutlined /> : <PlusOutlined />}\n                  <div className=\"and-upload-text\">Upload</div>\n                </div>\n              )}\n            </Upload>\n          </div>\n        </Item>\n\n        <Item\n          name=\"price\"\n          label=\"Price\"\n          extra=\"All prices in $USD/day\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter a price for your listing\",\n            },\n          ]}\n        >\n          <InputNumber placeholder=\"120\" min={0} />\n        </Item>\n\n        <Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Submit\n          </Button>\n        </Item>\n      </Form>\n    </Content>\n  );\n};\n\nconst beforeImageUpload = (file: File): boolean => {\n  const fileIsValidType =\n    file.type === \"image/jpeg\" || file.type === \"image/png\";\n  const fileIsValidSize = file.size / 1024 / 1024 < 1;\n\n  if (!fileIsValidSize) {\n    displayErrorMessage(\n      \"You are only able to upload valid image files of under 1MB in size!\"\n    );\n    return false;\n  }\n\n  if (!fileIsValidType) {\n    displayErrorMessage(\"You are only able to upload valid JPG or PNG files!\");\n    return false;\n  }\n\n  return fileIsValidSize && fileIsValidType;\n};\n\nconst getBase64Value = (\n  img: File | Blob,\n  callback: (imageBase64Value: string) => void\n) => {\n  const reader = new FileReader();\n  reader.readAsDataURL(img);\n  reader.onload = () => {\n    callback(reader.result as string);\n  };\n};\n","import { FC, useEffect, useRef } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { Typography, Card, Layout, Spin } from \"antd\";\nimport { useApolloClient, useMutation } from \"@apollo/client\";\n\nimport {\n  LOG_IN,\n  LogInVariables,\n  LogIn as LogInData,\n} from \"lib/graphql/mutations\";\nimport { Viewer } from \"lib/types\";\nimport googleLogo from \"./assets/google_logo.jpg\";\nimport { AUTH_URL, AuthUrl as AuthUrlData } from \"lib/graphql/queries\";\n\nimport { ErrorBanner } from \"lib/components\";\nimport { displayErrorMessage, displaySuccessNotification } from \"lib/utils\";\n\nconst { Content } = Layout;\nconst { Text, Title } = Typography;\n\ninterface Props {\n  setViewer: (viewer: Viewer) => void;\n}\n\nexport const Login: FC<Props> = ({ setViewer }) => {\n  const client = useApolloClient();\n  const [\n    logIn,\n    { data: logInData, loading: logInLoading, error: logInError },\n  ] = useMutation<LogInData, LogInVariables>(LOG_IN, {\n    onCompleted: ({ logIn }) => {\n      setViewer(logIn);\n      if (logIn.token) {\n        sessionStorage.setItem(\"token\", logIn.token);\n      }\n      displaySuccessNotification(\"You've successfully logged in!\");\n    },\n  });\n\n  const logInRef = useRef(logIn);\n\n  useEffect(() => {\n    const code = new URL(window.location.href).searchParams.get(\"code\");\n    if (code) {\n      logInRef.current({ variables: { input: { code } } });\n    }\n  }, []);\n\n  const handleAuthorize = async () => {\n    try {\n      const { data } = await client.query<AuthUrlData>({ query: AUTH_URL });\n      window.location.href = data.authUrl;\n    } catch (error) {\n      displayErrorMessage(\n        \"Sorry! We weren't able to log you in. Please try again later!\"\n      );\n    }\n  };\n\n  if (logInLoading) {\n    return (\n      <Content className=\"log-in\">\n        <Spin size=\"large\" tip=\"Logging you in...\" />\n      </Content>\n    );\n  }\n\n  if (logInData?.logIn) {\n    const { id } = logInData.logIn;\n    return <Redirect to={`/user/${id}`} />;\n  }\n\n  const logInErrorBannerElement = logInError ? (\n    <ErrorBanner description=\"Sorry! We weren't able to log you in. Please try again later!\" />\n  ) : null;\n\n  return (\n    <Content className=\"log-in\">\n      {logInErrorBannerElement}\n      <Card className=\"log-in-card\">\n        <div className=\"log-in-card__intro\">\n          <Title level={3} className=\"log-in-card__intro-title\">\n            <span role=\"img\" aria-label=\"wave\">\n              👋\n            </span>\n          </Title>\n          <Title level={3} className=\"log-in-card__intro-title\">\n            Log in to TinyHouse!\n          </Title>\n          <Text>Sign in with Google to start booking available rentals!</Text>\n        </div>\n        <button\n          onClick={handleAuthorize}\n          className=\"log-in-card__google-button\"\n        >\n          <img\n            src={googleLogo}\n            alt=\"Google Logo\"\n            className=\"log-in-card__google-button-logo\"\n          />\n          <span className=\"log-in-card__google-button-text\">\n            Sign in with Google\n          </span>\n        </button>\n        <Text type=\"secondary\">\n          Note: By signing in, you'll be redirected to the Google consent form\n          to sign in with your Google account.\n        </Text>\n      </Card>\n    </Content>\n  );\n};\n","export default \"data:image/jpeg;base64,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\"","import { Layout, Spin } from \"antd\";\nimport { useMutation } from \"@apollo/client\";\nimport { FC, useEffect, useRef, useMemo } from \"react\";\nimport { Redirect, useHistory } from \"react-router-dom\";\n\nimport {\n  CONNECT_STRIPE,\n  ConnectStripeVariables,\n  ConnectStripe as ConnectStripeData,\n} from \"lib/graphql/mutations/ConnectStripe\";\nimport { Viewer } from \"lib/types\";\nimport { displaySuccessNotification } from \"lib/utils\";\n\ninterface Props {\n  viewer: Viewer;\n  setViewer(viewer: Viewer | ((v: Viewer) => Viewer)): void;\n}\n\nconst { Content } = Layout;\n\nexport const Stripe: FC<Props> = ({ viewer, setViewer }) => {\n  const { replace } = useHistory();\n  const [connectStripe, { data, loading, error }] = useMutation<\n    ConnectStripeData,\n    ConnectStripeVariables\n  >(CONNECT_STRIPE, {\n    onCompleted: ({ connectStripe: { hasWallet } }) => {\n      setViewer((v) => ({ ...v, hasWallet }));\n      displaySuccessNotification(\n        \"You've successfully connected your Stripe Account!\",\n        \"You can now begin to create listings in the Host page.\"\n      );\n    },\n  });\n\n  const viewerMemo = useMemo(() => viewer, [viewer]);\n\n  const connectStripeRef = useRef(connectStripe);\n\n  useEffect(() => {\n    const code = new URL(window.location.href).searchParams.get(\"code\");\n    if (code) {\n      connectStripeRef.current({ variables: { input: { code } } });\n    } else {\n      replace(`/user/${viewerMemo.id}`);\n    }\n  }, [viewerMemo, replace]);\n\n  if (loading) {\n    return (\n      <Content className=\"stripe\">\n        <Spin size=\"large\" tip=\"Connection to your Stripe account...\" />\n      </Content>\n    );\n  }\n  if (error) {\n    return <Redirect to={`/user/${viewer.id}?stripe_error=true`} />;\n  }\n\n  if (data) {\n    return <Redirect to={`/user/${viewer.id}`} />;\n  }\n  return null;\n};\n","import { FC } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Avatar, Divider, Tag, Typography } from \"antd\";\nimport { EnvironmentOutlined } from \"@ant-design/icons\";\n\nimport { iconColor } from \"lib/utils\";\nimport { Listing as ListingData } from \"lib/graphql/queries\";\n\ninterface Props {\n  listing: ListingData[\"listing\"];\n}\n\nconst { Paragraph, Title } = Typography;\n\nexport const ListingDetails: FC<Props> = ({ listing }) => {\n  const {\n    type,\n    city,\n    host,\n    title,\n    image,\n    address,\n    description,\n    numOfGuests,\n  } = listing;\n\n  console.log(image);\n\n  return (\n    <div className=\"listing-details\">\n      <div\n        className=\"listing-details__image\"\n        style={{ backgroundImage: `url(${image})` }}\n      />\n      <div className=\"listing-details__information\">\n        <Paragraph\n          ellipsis\n          type=\"secondary\"\n          className=\"listing-details__city-address\"\n        >\n          <Link to={`/listings/${city}`}>\n            <EnvironmentOutlined color={iconColor} /> {city}\n          </Link>\n          <Divider type=\"vertical\" />\n          {address}\n        </Paragraph>\n        <Title level={3} className=\"listing-details__title\">\n          {title}\n        </Title>\n      </div>\n      <div className=\"listing-details__section\">\n        <Link to={`/user/${host.id}`}>\n          <Avatar src={host.avatar} size={64} />\n          <Title level={2} className=\"listing-details__host-name\">\n            {host.name}\n          </Title>\n        </Link>\n      </div>\n      <Divider />\n      <div className=\"listing-details__section\">\n        <Title level={4}>About this space</Title>\n        <div className=\"listing-details__about-items\">\n          <Tag color=\"magenta\">{type}</Tag>\n          <Tag color=\"magenta\">{numOfGuests} Guests</Tag>\n        </div>\n        <Paragraph ellipsis={{ rows: 3, expandable: true }}>\n          {description}\n        </Paragraph>\n      </div>\n    </div>\n  );\n};\n","import { FC } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Typography, List, Avatar, Divider } from \"antd\";\n\nimport { Listing as ListingData } from \"lib/graphql/queries\";\n\ninterface Props {\n  limit: number;\n\n  bookingsPage: number;\n  setBookingsPage: (page: number) => void;\n  listingBookings: ListingData[\"listing\"][\"bookings\"];\n}\n\nconst { Title, Text } = Typography;\n\nexport const ListingBookings: FC<Props> = ({\n  limit,\n  bookingsPage,\n  listingBookings,\n  setBookingsPage,\n}) => {\n  const total = listingBookings?.total || null;\n  const result = listingBookings?.result || null;\n\n  const listingBookingsList = listingBookings ? (\n    <List\n      dataSource={result || undefined}\n      grid={{ gutter: 8, xs: 1, sm: 2, lg: 3 }}\n      locale={{ emptyText: \"No bookings have been made yet!\" }}\n      pagination={{\n        showLessItems: true,\n        current: bookingsPage,\n        defaultPageSize: limit,\n        hideOnSinglePage: true,\n        total: total || undefined,\n        onChange: (page: number) => setBookingsPage(page),\n      }}\n      renderItem={(booking) => {\n        const bookingHistory = (\n          <div className=\"listing-bookings__history\">\n            <div>\n              Check in: <Text strong>{booking.checkIn}</Text>\n            </div>\n            <div>\n              Check out: <Text strong>{booking.checkOut}</Text>\n            </div>\n          </div>\n        );\n\n        return (\n          <List.Item className=\"listing-bookings__item\">\n            {bookingHistory}\n            <Link to={`/user/${booking.tenant.id}`}>\n              <Avatar\n                size={64}\n                shape=\"square\"\n                src={`${booking.tenant.avatar}`}\n              />\n            </Link>\n          </List.Item>\n        );\n      }}\n    />\n  ) : null;\n\n  return listingBookingsList ? (\n    <div className=\"listing-bookings\">\n      <Divider />\n      <div className=\"listing-bookings__section\">\n        <Title level={4}>Bookings</Title>\n      </div>\n\n      {listingBookingsList}\n    </div>\n  ) : null;\n};\n","import { FC } from \"react\";\nimport moment, { Moment } from \"moment\";\nimport { Card, Button, Divider, Typography, DatePicker } from \"antd\";\n\nimport { Viewer } from \"lib/types\";\nimport { BookingsIndex } from \"./types\";\nimport { Listing as ListingData } from \"lib/graphql/queries\";\nimport { formatListingPrice, displayErrorMessage } from \"lib/utils\";\n\ninterface Props {\n  price: number;\n  viewer: Viewer;\n  checkInDate: Moment | null;\n  checkOutDate: Moment | null;\n  host: ListingData[\"listing\"][\"host\"];\n  setModalVisible(modalVisible: boolean): void;\n  setCheckInDate: (date: Moment | null) => void;\n  setCheckOutDate: (date: Moment | null) => void;\n  bookingsIndex: ListingData[\"listing\"][\"bookingsIndex\"];\n}\n\nconst { Paragraph, Title, Text } = Typography;\n\nexport const ListingCreateBooking: FC<Props> = ({\n  host,\n  price,\n  viewer,\n  checkInDate,\n  checkOutDate,\n  bookingsIndex,\n  setCheckInDate,\n  setModalVisible,\n  setCheckOutDate,\n}) => {\n  const bookingsIndexJSON = JSON.parse(bookingsIndex) as BookingsIndex;\n\n  const dateIsBooked = (currentDate: Moment): boolean => {\n    const day = moment(currentDate).day();\n    const year = moment(currentDate).year();\n    const month = moment(currentDate).month();\n\n    if (bookingsIndexJSON[year] && bookingsIndexJSON[year][month]) {\n      return Boolean(bookingsIndexJSON[year][month][day]);\n    } else {\n      return false;\n    }\n  };\n  const disabledDate = (currentDate?: Moment) => {\n    if (currentDate) {\n      const dateIsBeforeEndOfDay = currentDate.isBefore(moment().endOf(\"day\"));\n      return dateIsBeforeEndOfDay || dateIsBooked(currentDate);\n    } else {\n      return false;\n    }\n  };\n  const verifyAndSetCheckOutDate = (selectedCheckOutDate: Moment | null) => {\n    if (checkInDate && selectedCheckOutDate) {\n      if (moment(selectedCheckOutDate).isBefore(checkInDate, \"days\")) {\n        return displayErrorMessage(\n          \"You can not book date of check out to be prior to check in!\"\n        );\n      }\n    }\n\n    let dateCursor = checkInDate;\n    while (moment(dateCursor).isBefore(selectedCheckOutDate, \"days\")) {\n      dateCursor = moment(dateCursor).add(1, \"days\");\n\n      const day = moment(dateCursor).day();\n      const year = moment(dateCursor).year();\n      const month = moment(dateCursor).month();\n\n      if (\n        bookingsIndexJSON[year] &&\n        bookingsIndexJSON[year][month] &&\n        bookingsIndexJSON[year][month][day]\n      ) {\n        return displayErrorMessage(\n          \"You can not book a period of time that overlaps existing bookings. Please try again!\"\n        );\n      }\n    }\n    setCheckOutDate(selectedCheckOutDate);\n  };\n\n  const viewerIsHost = viewer.id === host.id;\n  const checkInInputDisabled = !viewer.id || viewerIsHost || !host.hasWallet;\n  const checkOutInputDisabled = checkInInputDisabled || !checkInDate;\n  const buttonDisabled = checkInInputDisabled || !checkInDate || !checkOutDate;\n\n  const resetCheckOutDate = () => setCheckOutDate(null);\n\n  let buttonMessage = \"You won't be charget yet!\";\n  if (checkInInputDisabled) {\n    buttonMessage = \"You have to be signed in to book a listing!\";\n  }\n  if (viewerIsHost) {\n    buttonMessage = \"You can not book your own listing!\";\n  }\n  if (!host.hasWallet) {\n    buttonMessage =\n      \"The host has disconnected from Stripe and thus won't receive payments!\";\n  }\n\n  const buttonOnClickHandler = () => setModalVisible(true);\n\n  return (\n    <div className=\"listing-booking\">\n      <Card className=\"listing-booking__card\">\n        <div>\n          <Paragraph>\n            <Title level={2} className=\"listing-booking__card-title\">\n              {formatListingPrice(price)}\n              <span>/day</span>\n            </Title>\n          </Paragraph>\n          <Divider />\n          <div className=\"listing-booking__card-date-picker\">\n            <Paragraph strong>Check In</Paragraph>\n            <DatePicker\n              showToday={false}\n              format=\"YYYY/MM/DD\"\n              value={checkInDate}\n              onChange={setCheckInDate}\n              disabledDate={disabledDate}\n              disabled={checkInInputDisabled}\n              onOpenChange={resetCheckOutDate}\n            />\n          </div>\n          <div className=\"listing-booking__card-date-picker\">\n            <Paragraph strong>Check Out</Paragraph>\n            <DatePicker\n              showToday={false}\n              format=\"YYYY/MM/DD\"\n              value={checkOutDate}\n              disabledDate={disabledDate}\n              disabled={checkOutInputDisabled}\n              onChange={verifyAndSetCheckOutDate}\n            />\n          </div>\n        </div>\n        <Divider />\n        <Button\n          size=\"large\"\n          type=\"primary\"\n          disabled={buttonDisabled}\n          onClick={buttonOnClickHandler}\n          className=\"listing-booking__card-cta\"\n        >\n          Request to book!\n        </Button>\n        <Text type=\"secondary\" mark>\n          {buttonMessage}\n        </Text>\n      </Card>\n    </div>\n  );\n};\n","import { FC } from \"react\";\nimport {\n  CardElement,\n  injectStripe,\n  ReactStripeElements,\n} from \"react-stripe-elements\";\nimport moment, { Moment } from \"moment\";\nimport { useMutation } from \"@apollo/client\";\nimport { KeyOutlined } from \"@ant-design/icons\";\nimport { Modal, Typography, Button, Divider } from \"antd\";\n\nimport {\n  CREATE_BOOKING,\n  CreateBookingVariables,\n  CreateBooking as CreateBookingData,\n} from \"lib/graphql/mutations/CreateBooking\";\nimport { formatListingPrice } from \"lib/utils\";\nimport { displayErrorMessage, displaySuccessNotification } from \"lib/utils\";\n\ninterface Props {\n  id: string;\n  price: number;\n  checkInDate: Moment;\n  checkOutDate: Moment;\n  modalVisible: boolean;\n  clearBookingData(): void;\n  handleListingRefetch(): Promise<void>;\n  setModalVisible(modalVisible: boolean): void;\n}\n\nconst { Paragraph, Text, Title } = Typography;\n\nconst ListingCreateBookingModalElement: FC<\n  Props & ReactStripeElements.InjectedStripeProps\n> = ({\n  id,\n  price,\n  stripe,\n  checkInDate,\n  checkOutDate,\n  modalVisible,\n  setModalVisible,\n  clearBookingData,\n  handleListingRefetch,\n}) => {\n  const onCancel = () => setModalVisible(false);\n  const [createBooking, { loading }] = useMutation<\n    CreateBookingData,\n    CreateBookingVariables\n  >(CREATE_BOOKING, {\n    onCompleted: () => {\n      clearBookingData();\n      displaySuccessNotification(\n        \"You've successfully booked the listing!\",\n        \"Booking history can always be found in your User page.\"\n      );\n      handleListingRefetch();\n    },\n    onError: () => {\n      displayErrorMessage(\n        \"Sorry! We weren't able to successfully book the listing. Please ty again later!\"\n      );\n    },\n  });\n\n  const daysBooked = checkOutDate.diff(checkInDate, \"days\") + 1;\n  const listingPrice = price * daysBooked;\n\n  const handleCreateBooking = async () => {\n    if (!stripe) {\n      return displayErrorMessage(\n        \"Sorry! We were not abble to connect with Stripe!\"\n      );\n    }\n\n    let { token: stripeToken, error } = await stripe.createToken();\n    if (stripeToken) {\n      createBooking({\n        variables: {\n          input: {\n            id,\n            source: stripeToken.id,\n            checkIn: moment(checkInDate).format(\"YYYY-MM-DD\"),\n            checkOut: moment(checkOutDate).format(\"YYYY-MM-DD\"),\n          },\n        },\n      });\n    } else {\n      displayErrorMessage(\n        error && error.message\n          ? error.message\n          : \"Sorry! We weren't able to book the listing. Please try again later!\"\n      );\n    }\n  };\n\n  return (\n    <Modal centered footer={null} onCancel={onCancel} visible={modalVisible}>\n      <div className=\"listing-booking-modal\">\n        <div className=\"listing-booking-modal__intro\">\n          <Title className=\"listing-booking-modal__intro-title\">\n            <KeyOutlined />\n          </Title>\n          <Title level={3} className=\"listing-booking-modal__intro-title\">\n            Book your trip\n          </Title>\n          <Paragraph>\n            Enter your payment information to book the listing from the dates\n            between\n            <Text mark strong>\n              {moment(checkInDate).format(\"MMMM Do YYYY\")}\n            </Text>{\" \"}\n            and{\" \"}\n            <Text mark strong>\n              {moment(checkOutDate).format(\"MMMM Do YYYY\")}\n            </Text>\n            , inclusive.\n          </Paragraph>\n        </div>\n        <Divider />\n        <div className=\"listing-booking-modal__charge-summary\">\n          <Paragraph>\n            {formatListingPrice(price, false)} * {daysBooked} days ={\" \"}\n            <Text strong>{formatListingPrice(listingPrice, false)}</Text>\n          </Paragraph>\n          <Paragraph className=\"listing-booking-modal__charge-summary-total\">\n            Total = <Text mark>{formatListingPrice(listingPrice, false)}</Text>\n          </Paragraph>\n        </div>\n        <Divider />\n        <div className=\"listing-booking-modal__stripe-card-section\">\n          <div style={{ padding: \"20px 0\" }}>\n            <CardElement hidePostalCode />\n          </div>\n          <Button\n            size=\"large\"\n            type=\"primary\"\n            loading={loading}\n            onClick={handleCreateBooking}\n            className=\"listing-booking-modal__cta\"\n          >\n            Book\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport const ListingCreateBookingModal = injectStripe(\n  ListingCreateBookingModalElement\n);\n","import { FC, useState } from \"react\";\nimport { Moment } from \"moment\";\nimport { Layout, Col, Row } from \"antd\";\nimport { useQuery } from \"@apollo/client\";\nimport { useRouteMatch } from \"react-router-dom\";\n\nimport {\n  ListingDetails,\n  ListingBookings,\n  ListingCreateBooking,\n  ListingCreateBookingModal,\n} from \"./components\";\nimport {\n  LISTING,\n  ListingVariables,\n  Listing as ListingData,\n} from \"lib/graphql/queries/Listing\";\nimport { Viewer } from \"lib/types\";\nimport { PageSkeleton, ErrorBanner } from \"lib/components\";\n\ninterface RouteParams {\n  id: string;\n}\n\ninterface Props {\n  viewer: Viewer;\n}\n\nconst PAGE_LIMIT = 3;\nconst { Content } = Layout;\n\nexport const Listing: FC<Props> = ({ viewer }) => {\n  const { id } = useRouteMatch<RouteParams>().params;\n  const [bookingsPage, setBookingsPage] = useState(1);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [checkInDate, setCheckInDate] = useState<null | Moment>(null);\n  const [checkOutDate, setCheckOutDate] = useState<null | Moment>(null);\n\n  const { data, loading, error, refetch } = useQuery<\n    ListingData,\n    ListingVariables\n  >(LISTING, { variables: { id, limit: PAGE_LIMIT, bookingsPage } });\n\n  const clearBookingData = () => {\n    setModalVisible(false);\n    setCheckInDate(null);\n    setCheckOutDate(null);\n  };\n\n  const handleListingRefetch = async () => {\n    refetch();\n  };\n\n  if (loading) {\n    return (\n      <Content className=\"listings\">\n        <PageSkeleton />\n      </Content>\n    );\n  }\n\n  if (error) {\n    return (\n      <Content className=\"listings\">\n        <PageSkeleton />\n        <ErrorBanner description=\"This listing may not exist or ew've encountered an error. Please try again soon!\" />\n      </Content>\n    );\n  }\n\n  const listing = data?.listing || null;\n  const listingBookings = data?.listing.bookings || null;\n\n  const listingDetailsElement = listing ? (\n    <ListingDetails listing={listing} />\n  ) : null;\n\n  const listingBookingsElement = listingBookings ? (\n    <ListingBookings\n      limit={PAGE_LIMIT}\n      bookingsPage={bookingsPage}\n      setBookingsPage={setBookingsPage}\n      listingBookings={listingBookings}\n    />\n  ) : null;\n\n  const listingCrateBookingElement = listing ? (\n    <ListingCreateBooking\n      viewer={viewer}\n      host={listing.host}\n      price={listing.price}\n      checkInDate={checkInDate}\n      checkOutDate={checkOutDate}\n      setCheckInDate={setCheckInDate}\n      setCheckOutDate={setCheckOutDate}\n      setModalVisible={setModalVisible}\n      bookingsIndex={listing.bookingsIndex}\n    />\n  ) : null;\n\n  const listingCreateBookingModalElement =\n    listing?.price && checkInDate && checkOutDate ? (\n      <ListingCreateBookingModal\n        id={listing.id}\n        price={listing?.price}\n        checkInDate={checkInDate}\n        checkOutDate={checkOutDate}\n        modalVisible={modalVisible}\n        setModalVisible={setModalVisible}\n        clearBookingData={clearBookingData}\n        handleListingRefetch={handleListingRefetch}\n      />\n    ) : null;\n\n  return (\n    <Content className=\"listings\">\n      <Row gutter={24} typeof=\"flex\" justify=\"space-between\">\n        <Col xs={24} lg={14}>\n          {listingDetailsElement}\n          {listingBookingsElement}\n        </Col>\n        <Col xs={24} lg={10}>\n          {listingCrateBookingElement}\n        </Col>\n      </Row>\n      {listingCreateBookingModalElement}\n    </Content>\n  );\n};\n","import { FC } from \"react\";\n\nexport const NotFound: FC = () => {\n  return <h2>NotFound</h2>;\n};\n","import { FC } from \"react\";\nimport { Select } from \"antd\";\n\nimport { ListingFilter } from \"lib/graphql/globalTypes\";\n\ninterface Props {\n  filter: ListingFilter;\n  setFilter(filter: ListingFilter): void;\n}\n\nconst { PRICE_HIGH_TO_LOW, PRICE_LOW_TO_HIGH } = ListingFilter;\n\nconst { Option } = Select;\nexport const ListingsFilter: FC<Props> = ({ filter, setFilter }) => {\n  return (\n    <div className=\"listings-filters\">\n      <span>Filter By</span>\n      <Select value={filter} onChange={setFilter}>\n        <Option value={PRICE_LOW_TO_HIGH}>Price: Low to High</Option>\n        <Option value={PRICE_HIGH_TO_LOW}>Price: High to Low</Option>\n      </Select>\n    </div>\n  );\n};\n","import { FC } from \"react\";\nimport { Card, List, Skeleton } from \"antd\";\n\nimport listingLoadingCardCover from \"sections/Listings/assets/listing-loading-card-cover.jpg\";\n\nexport const ListingsSkeleton: FC = () => {\n  const emptyData = new Array(8).fill({});\n  return (\n    <div>\n      <Skeleton paragraph={{ rows: 1 }} />\n      <List\n        grid={{ gutter: 8, xs: 1, sm: 2, md: 3, lg: 3, xl: 4 }}\n        dataSource={emptyData}\n        renderItem={() => (\n          <List.Item>\n            <Card\n              loading\n              className=\"listings-skeleton__card\"\n              cover={\n                <div\n                  className=\"listings-skeleton__card-cover-img\"\n                  style={{ backgroundColor: `url(${listingLoadingCardCover})` }}\n                />\n              }\n            />\n          </List.Item>\n        )}\n      />\n    </div>\n  );\n};\n","export default \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAoEAAAGsCAYAAACiiX3NAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAABcgSURBVHgB7daxDYAwEARBm9yI/qtEUIARdex8BzuX/BiOAAECBAgQIEAgJzD/4vt5d65cMAECBAgQIEAgKnCdax7RdtkECBAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAAECBAgQIECAAAECBFoCH+giB1TBDI5HAAAAAElFTkSuQmCC\"","import { FC } from \"react\";\nimport { Pagination } from \"antd\";\n\ninterface Props {\n  page: number;\n  limit: number;\n  total: number;\n  setPage(page: number): void;\n}\n\nexport const ListingsPagination: FC<Props> = ({\n  page,\n  total,\n  limit,\n  setPage,\n}) => {\n  return (\n    <Pagination\n      total={total}\n      showLessItems\n      current={page}\n      hideOnSinglePage\n      onChange={setPage}\n      defaultPageSize={limit}\n      className=\"listings-pagination\"\n    />\n  );\n};\n","import { useQuery } from \"@apollo/client\";\nimport { Layout, List, Typography, Affix } from \"antd\";\nimport { useRouteMatch, Link } from \"react-router-dom\";\nimport { FC, useState, useEffect, useRef } from \"react\";\n\nimport {\n  ListingsFilter,\n  ListingsSkeleton,\n  ListingsPagination,\n} from \"./components\";\nimport {\n  LISTINGS,\n  ListingsVariables,\n  Listings as ListingsData,\n} from \"lib/graphql/queries\";\nimport { ListingFilter } from \"lib/graphql/globalTypes\";\nimport { ListingCard, ErrorBanner } from \"lib/components\";\n\nconst PAGE_LIMIT = 8;\nconst { Content } = Layout;\nconst { PRICE_LOW_TO_HIGH } = ListingFilter;\nconst { Title, Paragraph, Text } = Typography;\n\ninterface MatchParams {\n  location: string;\n}\n\nexport const Listings: FC = () => {\n  const [page, setPage] = useState(1);\n  const [filter, setFilter] = useState(PRICE_LOW_TO_HIGH);\n  const { location } = useRouteMatch<MatchParams>().params;\n\n  const locationRef = useRef(location);\n\n  const { data, loading, error } = useQuery<ListingsData, ListingsVariables>(\n    LISTINGS,\n    {\n      variables: {\n        page,\n        filter,\n        location,\n        limit: PAGE_LIMIT,\n      },\n      skip: locationRef.current !== location && page !== 1,\n    }\n  );\n\n  useEffect(() => {\n    setPage(1);\n    locationRef.current = location;\n  }, [location]);\n\n  if (loading) {\n    return (\n      <Content className=\"listings\">\n        <ListingsSkeleton />\n      </Content>\n    );\n  }\n\n  if (error) {\n    return (\n      <Content className=\"listings\">\n        <ErrorBanner\n          description=\"\n            We either couldn't find anything matching your search or have encountered an error.\n            If you're searching for a unique location, try searching again with more common keywords.\n          \"\n        />\n        <ListingsSkeleton />\n      </Content>\n    );\n  }\n\n  const listings = data?.listings || null;\n  const listingsRegion = data?.listings.region || null;\n\n  const listingsSectionElement =\n    listings && listings.result.length ? (\n      <div>\n        <Affix offsetTop={64}>\n          <div>\n            <ListingsPagination\n              page={page}\n              setPage={setPage}\n              limit={PAGE_LIMIT}\n              total={listings.total}\n            />\n            <ListingsFilter filter={filter} setFilter={setFilter} />\n          </div>\n        </Affix>\n        <List\n          dataSource={listings.result}\n          grid={{ gutter: 8, xs: 1, sm: 2, md: 3, lg: 3, xl: 4 }}\n          renderItem={(listing) => (\n            <List.Item>\n              <ListingCard listing={listing} />\n            </List.Item>\n          )}\n        />\n      </div>\n    ) : (\n      <div>\n        <Paragraph>\n          It appears that no listings have yet been created for{\" \"}\n          <Text mark>\"{listingsRegion}\"</Text>\n        </Paragraph>\n        <Paragraph>\n          Be the first person to create a{\" \"}\n          <Link to=\"/host\">listing in this area</Link>!\n        </Paragraph>\n      </div>\n    );\n\n  const listingsRegionElement = listingsRegion ? (\n    <Title level={3} className=\"listings__title\">\n      Result for \"{listingsRegion}\"\n    </Title>\n  ) : null;\n\n  return (\n    <Content className=\"listings\">\n      {listingsRegionElement}\n      {listingsSectionElement}\n    </Content>\n  );\n};\n","import { FC } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Menu, Avatar } from \"antd\";\nimport { useMutation } from \"@apollo/client\";\nimport { LOG_OUT, LogOut as LogOutData } from \"lib/graphql/mutations\";\nimport { HomeOutlined, UserOutlined, LogoutOutlined } from \"@ant-design/icons\";\n\nimport { Viewer } from \"lib/types\";\nimport { displaySuccessNotification, displayErrorMessage } from \"lib/utils\";\n\nconst { Item, SubMenu } = Menu;\n\ninterface Props {\n  viewer: Viewer;\n  setViewer: (viewer: Viewer) => void;\n}\n\nexport const MenuItems: FC<Props> = ({ viewer, setViewer }) => {\n  const { id, avatar } = viewer;\n\n  const [logOut] = useMutation<LogOutData>(LOG_OUT, {\n    onCompleted: ({ logOut }) => {\n      setViewer(logOut);\n      sessionStorage.removeItem(\"token\");\n      displaySuccessNotification(\"You have successfully logged out!\");\n    },\n    onError: () =>\n      displayErrorMessage(\n        \"Sorry! We weren't able to log you out. Please try again later!\"\n      ),\n  });\n\n  const handleLogOut = () => {\n    logOut();\n  };\n\n  const subMenuLogin = id ? (\n    <SubMenu title={<Avatar src={avatar} />}>\n      <Item key=\"/user\">\n        <Link to={`/user/${id}`}>\n          <UserOutlined />\n          Profile\n        </Link>\n      </Item>\n      <Item key=\"/logout\">\n        <div onClick={handleLogOut}>\n          <LogoutOutlined />\n          Log Out\n        </div>\n      </Item>\n    </SubMenu>\n  ) : (\n    <Item>\n      <Link to=\"/login\">\n        <Button type=\"primary\">Sign In</Button>\n      </Link>\n    </Item>\n  );\n\n  return (\n    <Menu mode=\"horizontal\" selectable={false} className=\"menu\">\n      <Item key=\"/host\">\n        <Link to=\"/host\">\n          <HomeOutlined /> Host\n        </Link>\n      </Item>\n      {subMenuLogin}\n    </Menu>\n  );\n};\n","import { Layout, Input } from \"antd\";\nimport { FC, useState, ChangeEvent, useEffect } from \"react\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\n\nimport { Viewer } from \"lib/types\";\nimport { MenuItems } from \"./components\";\nimport { displayErrorMessage } from \"lib/utils\";\nimport logo from \"./assets/tinyhouse-logo.png\";\n\ninterface Props {\n  viewer: Viewer;\n  setViewer: (viewer: Viewer) => void;\n}\n\nconst { Search } = Input;\nconst { Header } = Layout;\n\nexport const AppHeader: FC<Props> = ({ viewer, setViewer }) => {\n  const { push } = useHistory();\n  const { pathname } = useLocation();\n  const [search, setSearch] = useState(\"\");\n\n  useEffect(() => {\n    const pathnameSubStrings = pathname.split(\"/\");\n    const pathIncludes = pathname.includes(\"/listings\");\n    if (!pathIncludes) {\n      setSearch(\"\");\n    }\n\n    if (pathIncludes && pathnameSubStrings.length === 3) {\n      setSearch(pathnameSubStrings[2]);\n      return;\n    }\n  }, [pathname]);\n\n  const onSearch = (value: string) => {\n    const trimmedValue = value.trim();\n    if (trimmedValue) {\n      push(`/listings/${trimmedValue}`);\n    } else {\n      displayErrorMessage(\"Please enter a valid search value!\");\n    }\n  };\n\n  const onChange = ({ target }: ChangeEvent<HTMLInputElement>) =>\n    setSearch(target.value);\n\n  return (\n    <Header className=\"app-header\">\n      <div className=\"app-header__logo-search-section\">\n        <div className=\"app-header__logo\">\n          <Link to=\"/\">\n            <img src={logo} alt=\"App Logo\" />\n          </Link>\n        </div>\n        <div className=\"app-header__search-input\">\n          <Search\n            enterButton\n            value={search}\n            onChange={onChange}\n            onSearch={onSearch}\n            placeholder=\"Search 'San Francisco'\"\n          />\n        </div>\n      </div>\n      <div className=\"app-header__menu-section\">\n        <MenuItems viewer={viewer} setViewer={setViewer} />\n      </div>\n    </Header>\n  );\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABICAYAAACp+JiNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKtSURBVHgB7ZvPcdNAFMa/ZTjkhm/JLaYDUgFJBeAKCBUgVUCowKICSAemAlyCO8hySgwXc0ouZPn22WLEv4xs7W5g5vvNOJpV5Iz10763Ty+yO2hCQDrmV5U7QWb4mS+4GSMN/gEEJAGSYEgCJMGQBEiCIQmQBEMSIAmGJEASDEmAJBiSAEkwJAGSYEgCJMGQBEiCIQmQBOMh0jI+mIZTZIb/Mhs5pCO5BDi8Q2ZSCogoHCAJhiRAEgxJgCQYkgBJMCQBkmBIAiTBkARIgnGfEuZsDLz8FnAUtxx73BOp+wm9cAH1Ze2azq4FmzFz5zBlw+Q5ClN+JvCq/yLAuKqdv+bv2DCZoTDFJPAKr/jjhCf7/m/HrGq3uqzchDPlLQpSSoK/XQuY9zmYM6WisDcoRAkJPs6AL7VbbPMmCjsrJSKrBMb3YhMCHjsQRXAGTSyUMpJPQsD59QABLZ9rN4uhhIxLaBYJgYmNJ38aEx0SYKGUUUR6CYzjZUxsibEZlUlEUgmxCLKEloko4oYVZoi5JiFJJGxqgD8WQamJIbas3FHKWiJF2RxrgEmfJXA0DaM9btrxDc8pnhRL5nH3uD7JNNYSfN+KS9BrDGToTNiqBqCAhh/6on1xvM4dDh+7+3lyx33+Xgw9JuEaAxkiwSPBEjgUJuHG7kQHJMydJbj1MujxDxBn4u2AGbFzTggOr/abcEgZXzu7/V03SDGBus4V61SCHlsQn4HYPKMwYvgccteY4yfYEaevCcMXbarYUywOT9sxp/CHWBbvT0PDhsqjHwey4CoZaqU7S8d8vWgHTEifuJlRwDP8fGXPUbDdpkYrJMEoGg6sEKu9gLPO2FaHeNfpOpUkCneei0rY3Fr/dnu9LHDPcRcKB0iCIQmQBEMSEFeHgMf431j3GpPxHWSq7xBvwxLFAAAAAElFTkSuQmCC\"","import React, { FC, useState, useEffect, useRef } from \"react\";\n\nimport { render } from \"react-dom\";\nimport { Layout, Affix, Spin } from \"antd\";\nimport { setContext } from \"@apollo/client/link/context\";\nimport { useMutation, createHttpLink } from \"@apollo/client\";\nimport { StripeProvider, Elements } from \"react-stripe-elements\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { ApolloClient, InMemoryCache, ApolloProvider } from \"@apollo/client\";\n\nimport {\n  User,\n  Home,\n  Host,\n  Login,\n  Stripe,\n  Listing,\n  Listings,\n  NotFound,\n  AppHeader,\n} from \"sections\";\nimport {\n  LOG_IN,\n  LogInVariables,\n  LogIn as LogInData,\n} from \"lib/graphql/mutations\";\nimport { Viewer } from \"lib/types\";\nimport { AppHeaderSkeleton, ErrorBanner } from \"lib/components\";\n\nimport \"./styles/index.css\";\n\nconst httpLink = createHttpLink({ uri: \"/api\" });\n\nconst setCSRFHeader = setContext((_req, prevContext) => {\n  const token = sessionStorage.getItem(\"token\") || \"\";\n  return {\n    ...prevContext,\n    headers: { \"X-CSRF-TOKEN\": token },\n  };\n});\n\nconst client = new ApolloClient({\n  credentials: \"include\",\n  cache: new InMemoryCache(),\n  link: setCSRFHeader.concat(httpLink),\n});\n\nconst initialViewer: Viewer = {\n  id: null,\n  token: null,\n  avatar: null,\n  hasWallet: null,\n  didRequest: false,\n};\n\nconst App: FC = () => {\n  const [viewer, setViewer] = useState(initialViewer);\n  const [logIn, { error }] = useMutation<LogInData, LogInVariables>(LOG_IN, {\n    onCompleted: ({ logIn }) => {\n      setViewer(logIn);\n      if (logIn.token) {\n        sessionStorage.setItem(\"token\", logIn.token);\n      } else {\n        sessionStorage.removeItem(\"token\");\n      }\n    },\n  });\n\n  const logInRef = useRef(logIn);\n\n  useEffect(() => {\n    logInRef.current();\n  }, []);\n\n  if (!viewer.didRequest && !error) {\n    return (\n      <Layout className=\"app-skeleton\">\n        <AppHeaderSkeleton />\n        <div className=\"app-skeleton__spin-section\">\n          <Spin size=\"large\" tip=\"Launching Tinyhouse\" />\n        </div>\n      </Layout>\n    );\n  }\n\n  const logInErrorBannerElement = error ? (\n    <ErrorBanner description=\"We weren't able to verify if you were logged in. Please try again later!\" />\n  ) : null;\n\n  const apiKey = process.env.REACT_APP_S_PUBLICHED_KEY;\n\n  return (\n    <StripeProvider apiKey={apiKey}>\n      <Router>\n        <Layout id=\"app\">\n          {logInErrorBannerElement}\n          <Affix offsetTop={0}>\n            <AppHeader viewer={viewer} setViewer={setViewer} />\n          </Affix>\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <Route exact path=\"/host\">\n              <Host viewer={viewer} />\n            </Route>\n            <Route exact path=\"/login\">\n              <Login setViewer={setViewer} />\n            </Route>\n            <Route exact path=\"/stripe\">\n              <Stripe viewer={viewer} setViewer={setViewer} />\n            </Route>\n            <Route exact path=\"/user/:id\">\n              <User setViewer={setViewer} viewer={viewer} />\n            </Route>\n            <Route exact path=\"/listing/:id\">\n              <Elements>\n                <Listing viewer={viewer} />\n              </Elements>\n            </Route>\n            <Route exact path=\"/listings/:location?\" component={Listings} />\n            <Route component={NotFound} />\n          </Switch>\n        </Layout>\n      </Router>\n    </StripeProvider>\n  );\n};\n\nrender(\n  <ApolloProvider client={client}>\n    <App />\n  </ApolloProvider>,\n  document.getElementById(\"root\")\n);\n\ndeclare global {\n  namespace NodeJS {\n    interface ProcessEnv {\n      REACT_APP_S_CLIENT_ID: string;\n      REACT_APP_S_OAUTH_URL: string;\n      REACT_APP_S_PUBLICHED_KEY: string;\n    }\n  }\n}\n"],"sourceRoot":""}